#!/usr/bin/env python3
# An evaluate generic fake script
import os, sys, json, math, hashlib
import random

VERSION = 1


params_values = {}


def get_param_value(name, default=None):
    return next((v for k, v in params_values.items() if k.endswith("." + name)), default)

def set_random_seed():
    random.seed(get_param_value("seed", 1234))

assert len(sys.argv) == 3, "Expected argv: evaluate.py model test.data"


def phi(x):
    'Cumulative distribution function for the standard normal distribution'
    return (1.0 + math.erf(x / math.sqrt(2.0))) / 2.0

def hash_str(s):
    return hashlib.md5(s.encode()).digest()[0]

FINALIZE = {"0-1": phi, "1-0": lambda x: 1 - phi(x), "id": lambda x: x, "0-": math.exp,
            "intexp": lambda x: int(1000 * 10 ** x), "int": lambda x: int(100 * x)}


def evaluate_metric(name, typ, data):
    val = 0

    for p, v in data["params"].items():
        v = math.copysign(math.log(abs(v) + 1, 100), v)
        factor, noise, noise_period = COEFS["params"][hash_str(f"{name}:{p}")]
        val += factor * v + noise * math.cos(v / noise_period * math.pi * 2)

    for i, w in enumerate(data["work"]):
        w *= 0.33
        factor, noise, noise_period = COEFS["work"][hash_str(f"{name}:{i}")]
        val += factor * w + noise * math.sin(w / noise_period * math.pi * 2)

    return FINALIZE[typ](val)


def update_json(filename, update):
    try:
        with open(filename) as fd:
            value = json.load(fd)
    except (FileNotFoundError, json.JSONDecodeError):
        value = {}

    value.update(update)
    with open(filename, "w") as fd:
        json.dump(value, fd)


def dict_set(coll, keys, value):
    for i, key in enumerate(keys):
        if i == len(keys) - 1:
            coll[key] = value
        elif key not in coll:
            coll[key] = {}
        coll = coll[key]


def main():
    with open(sys.argv[1]) as model:
        data = json.load(model)
        data_size = os.stat(sys.argv[2]).st_size
        data["work"].append(math.log(data_size + 1))

        for filename, metrics in METRICS.items():
            update = {}
            for name, typ in metrics.items():
                dict_set(update, name.split("."), evaluate_metric(name, typ, data))
            update_json(filename, update)


# This coefficients define how params and "work" (data amount + code version) change metric values.
# To be both stable and not preconfigured for particular param/metric names we use feature hashing.
# These take some space so we place it as low as possible in out code.
METRICS = {'metrics.json': {'brand.FO': 'id',
                  'brand.RW': 'int',
                  'brand.VM': '0-1',
                  'brand.WH': 'intexp',
                  'brand.X3': 'id',
                  'brand.XD': 'id',
                  'brand.YR': '0-1',
                  'brand.YZ': 'id',
                  'brand.accuracy': '0-1',
                  'brand.auc': '0-1',
                  'brand.avg_time': '0-',
                  'brand.benchmark': 'id',
                  'brand.distinct': 'int',
                  'brand.entropy': 'id',
                  'brand.errors': 'int',
                  'brand.exp_cost': 'intexp',
                  'brand.f1-score': '0-1',
                  'brand.falsepos': '1-0',
                  'brand.fullscore': '0-1',
                  'brand.index': '0-',
                  'brand.loss': '1-0',
                  'brand.meanscore': '0-1',
                  'brand.n_docs': 'intexp',
                  'brand.non_null': '1-0',
                  'brand.precision': '0-1',
                  'brand.prediction_time': '0-',
                  'brand.r2': '0-',
                  'brand.recall': '0-1',
                  'brand.size': 'intexp',
                  'brand.time': '0-',
                  'brand.uv': '0-1',
                  'brand.weighted_avg': 'id',
                  'brand.wg': 'id',
                  'entities.FO': 'int',
                  'entities.RW': 'intexp',
                  'entities.VM': 'intexp',
                  'entities.WH': '1-0',
                  'entities.X3': '0-',
                  'entities.XD': 'intexp',
                  'entities.YR': 'id',
                  'entities.YZ': 'intexp',
                  'entities.accuracy': '0-1',
                  'entities.auc': '0-1',
                  'entities.avg_time': '0-',
                  'entities.benchmark': 'id',
                  'entities.distinct': 'int',
                  'entities.entropy': 'id',
                  'entities.errors': 'int',
                  'entities.exp_cost': 'intexp',
                  'entities.f1-score': '0-1',
                  'entities.falsepos': '1-0',
                  'entities.fullscore': '0-1',
                  'entities.index': '0-',
                  'entities.loss': '1-0',
                  'entities.meanscore': '0-1',
                  'entities.n_docs': 'intexp',
                  'entities.non_null': '1-0',
                  'entities.precision': '0-1',
                  'entities.prediction_time': '0-',
                  'entities.recall': '0-1',
                  'entities.size': 'intexp',
                  'entities.time': '0-',
                  'entities.uv': 'intexp',
                  'entities.weighted_avg': 'id',
                  'entities.wg': 'id',
                  'estimate.FO': '0-',
                  'estimate.RW': '0-',
                  'estimate.VM': '1-0',
                  'estimate.WH': 'id',
                  'estimate.X3': 'intexp',
                  'estimate.XD': '0-',
                  'estimate.YR': 'id',
                  'estimate.YZ': 'id',
                  'estimate.accuracy': '0-1',
                  'estimate.auc': '0-1',
                  'estimate.avg_time': '0-',
                  'estimate.benchmark': 'id',
                  'estimate.distinct': 'int',
                  'estimate.entropy': 'id',
                  'estimate.errors': 'int',
                  'estimate.exp_cost': 'intexp',
                  'estimate.f1-score': '0-1',
                  'estimate.falsepos': '1-0',
                  'estimate.fullscore': '0-1',
                  'estimate.index': '0-',
                  'estimate.loss': '1-0',
                  'estimate.meanscore': '0-1',
                  'estimate.n_docs': 'intexp',
                  'estimate.non_null': '1-0',
                  'estimate.precision': '0-1',
                  'estimate.prediction_time': '0-',
                  'estimate.r2': '0-',
                  'estimate.recall': '0-1',
                  'estimate.size': 'intexp',
                  'estimate.time': '0-',
                  'estimate.uv': 'intexp',
                  'estimate.weighted_avg': 'id',
                  'estimate.wg': '0-',
                  'model.FO': 'id',
                  'model.RW': '0-',
                  'model.VM': 'intexp',
                  'model.WH': '0-',
                  'model.X3': 'id',
                  'model.XD': 'id',
                  'model.YR': '0-1',
                  'model.YZ': '0-1',
                  'model.accuracy': '0-1',
                  'model.auc': '0-1',
                  'model.avg_time': '0-',
                  'model.benchmark': 'id',
                  'model.distinct': 'int',
                  'model.entropy': 'id',
                  'model.errors': 'int',
                  'model.exp_cost': 'intexp',
                  'model.f1-score': '0-1',
                  'model.falsepos': '1-0',
                  'model.fullscore': '0-1',
                  'model.index': '0-',
                  'model.loss': '1-0',
                  'model.meanscore': '0-1',
                  'model.n_docs': 'intexp',
                  'model.non_null': '1-0',
                  'model.precision': '0-1',
                  'model.prediction_time': '0-',
                  'model.r2': 'id',
                  'model.recall': '0-1',
                  'model.size': 'intexp',
                  'model.time': '0-',
                  'model.uv': 'intexp',
                  'model.weighted_avg': 'id',
                  'model.wg': 'int',
                  'reports.FO': 'intexp',
                  'reports.RW': 'id',
                  'reports.VM': 'int',
                  'reports.WH': '1-0',
                  'reports.X3': 'intexp',
                  'reports.XD': '0-',
                  'reports.YZ': '0-',
                  'reports.accuracy': '0-1',
                  'reports.auc': '0-1',
                  'reports.avg_time': '0-',
                  'reports.benchmark': 'id',
                  'reports.distinct': 'int',
                  'reports.errors': 'int',
                  'reports.exp_cost': 'intexp',
                  'reports.f1-score': '0-1',
                  'reports.falsepos': '1-0',
                  'reports.fullscore': '0-1',
                  'reports.index': '0-',
                  'reports.loss': '1-0',
                  'reports.meanscore': '0-1',
                  'reports.n_docs': 'intexp',
                  'reports.non_null': '1-0',
                  'reports.precision': '0-1',
                  'reports.prediction_time': '0-',
                  'reports.r2': 'intexp',
                  'reports.recall': '0-1',
                  'reports.size': 'intexp',
                  'reports.time': '0-',
                  'reports.uv': 'int',
                  'reports.weighted_avg': 'id',
                  'reports.wg': 'int',
                  'train.FO': '1-0',
                  'train.VM': 'id',
                  'train.WH': 'id',
                  'train.X3': 'intexp',
                  'train.XD': '1-0',
                  'train.YR': 'intexp',
                  'train.YZ': 'intexp',
                  'train.accuracy': '0-1',
                  'train.avg_time': '0-',
                  'train.benchmark': 'id',
                  'train.distinct': 'int',
                  'train.entropy': 'id',
                  'train.errors': 'int',
                  'train.exp_cost': 'intexp',
                  'train.f1-score': '0-1',
                  'train.falsepos': '1-0',
                  'train.fullscore': '0-1',
                  'train.index': '0-',
                  'train.loss': '1-0',
                  'train.meanscore': '0-1',
                  'train.n_docs': 'intexp',
                  'train.non_null': '1-0',
                  'train.prediction_time': '0-',
                  'train.r2': '0-',
                  'train.recall': '0-1',
                  'train.size': 'intexp',
                  'train.time': '0-',
                  'train.uv': 'intexp',
                  'train.weighted_avg': 'id',
                  'train.wg': '0-'}}
COEFS = {'params': [(-0.009796299613444831, 0.005696541686296561, 1.196117079629108),
            (-0.02433398149461234, 0.02365657008622027, 2.82510201735888),
            (0.041856629053930616, -0.07916497151860291, 1.2781313899274949),
            (-0.008963165370818357, 0.04630070204380546, 2.1105239104192735),
            (-0.07182964487164012, -0.0025212105905990934, 1.6766236770448375),
            (0.05729002725314625, 0.003272988601015478, 1.2683221704637033),
            (0.08276423510353317, -0.050690660515303, 1.8081985193153913),
            (0.06958613560523189, 0.02903290482565757, 1.6867088397973429),
            (-0.03039978079203312, -0.08089011503908516, 1.662245129877336),
            (0.022727431252709304, -0.07809839775184445, 1.68059064903693),
            (0.07756931687298649, 0.03243530056020538, 1.4378497720521255),
            (-0.02185224256106448, -0.04656994274809745, 2.486488305917998),
            (0.010232777043871738, 0.08272276431096745, 1.585513792709017),
            (0.03174494446833101, 0.0182947782007378, 2.8216148730277917),
            (0.009685474767571395, -0.037294480530337154, 2.2136407075534295),
            (-0.01094181284257327, 0.07884655649593877, 1.2116951931817292),
            (-0.016610986396275257, -0.09088508829993164, 2.160299239931635),
            (-0.07738454759954744, 0.05926795813555094, 1.49166774563661),
            (-0.019300744367761496, -0.02289939087213015, 1.6276732018450435),
            (0.0922417292027693, -0.07858495953035703, 1.3817515228421033),
            (0.015177149288947228, -0.07368242262264174, 1.6423088180999121),
            (-0.009859509909063563, 0.05096031140955595, 2.187630753558634),
            (0.0765934062355835, 0.06617756472824873, 1.3175233436896643),
            (0.0369544613467889, 0.046685509774233636, 1.9105673314392382),
            (0.02316118489411992, -0.02225854571649706, 2.6521097886840854),
            (-0.0015867320140315472, -0.02933203588836973, 2.3226477539574404),
            (0.0690429244753038, 0.036564443055097484, 1.581494664721704),
            (0.024808805936914924, 0.022502659986175108, 2.692694508080748),
            (-0.015520627911347756, -0.02157213372237987, 1.9782610387726904),
            (-0.07668069731445815, -0.0040128218966302975, 2.5389767550032145),
            (0.021309956240812514, -0.004062281801828077, 1.5896024056100906),
            (-0.0934671748789133, 0.08769189253333884, 2.80133521426613),
            (-0.08908174946271859, 0.019476893989996483, 1.7984964753512576),
            (0.08674694071991576, -0.02560442977955628, 1.4141323302282502),
            (0.04904463790045113, 0.0786862678971246, 2.2951412607091806),
            (-0.0063192221729813786, 0.07682724682259842, 2.351249449369874),
            (0.02853530194961046, -0.007699578267457624, 1.201582714079588),
            (-0.07302789644242269, 0.038907425753081426, 1.998476677657706),
            (-0.004533636182828399, 0.02014066103791956, 1.0087877487624648),
            (-0.03367837855068094, -0.06428503263406762, 1.890238237277995),
            (0.05156444814262426, 0.08087920950944696, 1.7708707122138172),
            (0.050284440065186564, 0.0033536273124225857, 2.095950989692299),
            (0.08654293950546707, 0.06538408611417248, 1.4019053328825413),
            (-0.028514408850882397, 0.0059570655035927345, 2.9140653921311896),
            (-0.040998520697198226, 0.08454404919460687, 2.562621957326386),
            (-8.784962321432832e-05, 0.008427053902554202, 1.8058509378304626),
            (0.07628982340585114, 0.02747314822842814, 2.8191109801541785),
            (0.001902315894908635, -0.07564044743533752, 1.4517035091397337),
            (0.02224804859876535, -0.05374260631805397, 2.290223080672125),
            (0.0126605680913158, 0.015037464177530227, 1.3639599008258214),
            (0.08807812917227403, 0.03998709571938941, 2.7596362461421857),
            (0.024140068523450367, 0.022834457253855314, 1.5291760455325467),
            (0.06708708015874615, -0.023956469779546657, 2.5075213268754117),
            (0.04811580590953474, -0.037976492283091905, 2.6564716638318693),
            (0.04077974757203412, -0.05041711772626838, 2.0698645866159557),
            (-0.09805959673016656, -0.05125329858464156, 1.6292966443883334),
            (0.031054471986308396, -0.04848682365964725, 2.7178219378967547),
            (-0.09569284106681507, -0.08647227718642997, 2.16445598785084),
            (0.051504669526732355, -0.05806229405940484, 2.7369993261048595),
            (-0.049692392458201035, -0.01674900836609927, 2.2788733202642537),
            (-0.08410801232626378, 0.00026713249524894234, 2.1085175625973567),
            (0.0032620458238380168, 0.06290690845975588, 2.8397687865099983),
            (0.023395967214453, 0.06289371840533212, 1.1862278185999124),
            (0.08065884391814032, -0.026575681570025683, 2.824664634373664),
            (0.0394595299802844, -0.033042573957565935, 2.451089585095604),
            (0.004079633623104553, -0.002121715349420933, 2.8522553495282352),
            (0.019203377522258175, 0.060419551510608044, 2.7055129352123126),
            (0.00048066652727143944, -0.028945483195276997, 2.6581739932125354),
            (0.07208234844917943, -0.060067818138401056, 1.4533852839728196),
            (-0.0512853823081372, 0.056578220837305876, 2.57538310545266),
            (0.09473869787779804, -0.023601719465971144, 1.6201746808380655),
            (-0.08986407143127849, 0.056253303589403475, 2.9436699322164),
            (-0.09102319339929876, 0.09248449144794232, 1.7437912825575952),
            (0.0004213155530802537, -0.08033368517142413, 2.115212810759563),
            (0.08971607165857426, -0.0013344349014506596, 2.27840111796522),
            (0.0712172253516265, 0.042696295416691815, 2.1700854908951293),
            (0.08510189739282475, -0.09990981776892423, 2.057271735531308),
            (0.049493557667893096, 0.07512595299317346, 1.9894446975424913),
            (0.0016467510897391902, 0.0946718145329992, 1.1341405866893588),
            (0.05922099092173608, 0.0727098871565324, 2.6915625366690388),
            (0.06702638580460782, 0.08246252883098576, 2.511569405521895),
            (0.09152226580204437, 0.07729905384845001, 2.66731712993644),
            (0.05486447965353011, -0.01563103716721284, 1.3039458852795738),
            (0.02214978670111878, -0.07155797553703797, 1.9090212600991248),
            (-0.0032876467949531085, -0.09770394737116775, 2.126777508366562),
            (0.0005173285457384103, 0.0810424119549473, 1.4703379166784),
            (-0.06564077606481829, -0.0761046959525616, 1.9641793792160631),
            (0.09947763024689416, -0.026207529666617504, 1.1369038347475668),
            (0.05777883007040904, -0.05557708884818535, 1.9706031259681656),
            (-0.014119378098421606, 0.023057189883596577, 1.9684906986881627),
            (-0.08030060300086372, -0.006265545772994985, 1.5187011494643736),
            (-0.0009752007365392557, 0.05025244511197649, 1.8434144082122348),
            (0.03780868563120557, -0.0035508861962824934, 2.5193462313869492),
            (-0.05152892259226658, 0.030449927138631927, 2.2666991550800057),
            (-0.032300357284228934, -0.058821549089522, 2.7492804283395254),
            (-0.004010357465059039, 0.054215199800949604, 1.3015890645050392),
            (-0.010752459750490106, -0.021165188095607454, 1.1637688541440083),
            (-0.08677271620858325, 0.03591040305025958, 1.6385631353794898),
            (-0.04565177689295455, -0.06980168948124921, 1.3266340748202359),
            (-0.0014601792328985674, 0.0781895860460747, 2.3971107380528007),
            (-0.04808470624477044, -0.015419362384336416, 2.428566719078353),
            (-0.06298814767099886, -0.05291268957373194, 2.891795720911611),
            (0.017306535759536737, -0.049024526626416876, 2.8458334805721783),
            (-0.09210497675961488, 0.09710055899565131, 1.6368066546331899),
            (0.022676266665859576, 0.055762237092187944, 1.3111438843773056),
            (-0.07645345991676762, 0.045154035212868426, 1.1206408632493818),
            (0.07188092619236672, 0.09142648022307567, 1.0748454721175926),
            (-0.021948774597977255, 0.007668502974211691, 1.2273181856360447),
            (-0.027241518794310166, -0.01645347768282357, 2.654468451990735),
            (0.045034427596434445, 0.06145039277610692, 1.4848909605538765),
            (0.03124700152194229, -0.053628835554451776, 2.0970838807626957),
            (-0.023878661134832765, -0.08671316669384631, 2.673856673529799),
            (0.09737401166962642, 0.08139231725174031, 1.4831274974421371),
            (-0.01083060629371732, 0.06779458784935666, 1.7552877743531452),
            (-0.09907876880848421, 0.04509430532096015, 2.4260903720613674),
            (-0.07201342385680974, -0.018634282737492375, 2.1550823327963373),
            (-0.07389678159735652, -0.0638953655791338, 1.6108112857001626),
            (0.004648309604927681, -0.0407863945222974, 2.934602857288489),
            (0.09076313150429002, -0.003074727121420248, 1.1546782506595066),
            (-0.07090977370571477, 0.08571612811275528, 1.9927487942320206),
            (-0.0819547230147137, -0.04485768879178775, 1.5775821078537653),
            (0.0318484517815118, -0.06808564043122511, 1.4177170000898445),
            (0.05230688670057895, -0.009760003718864693, 1.4361804432204632),
            (-0.07338347018644065, -0.01408278754570405, 2.300574658150756),
            (0.057982633301639885, 0.00867496417586859, 2.017955959693688),
            (0.019626337896425233, -0.04207572616210349, 2.1640257832131793),
            (-0.06437697738127884, 0.04127065024170248, 2.391470917156428),
            (0.04755230572555996, -0.0072796362615978605, 1.3315751544720091),
            (-0.006735288263044481, 0.08791281532899933, 2.7880436118660796),
            (-0.07384445330905545, -0.03361450339662564, 2.7823436101432906),
            (0.05918438564743164, 0.07720536422477403, 1.2037307085605973),
            (-0.06395651007860514, -0.03633116431960737, 1.6610419804308154),
            (-0.009738667366820358, 0.07090257411370657, 2.3499548548916325),
            (-0.011979418581736456, -0.030619542815345, 2.537291698254888),
            (-0.012440832581971178, 0.039087978614972985, 1.2981640238245944),
            (-0.03322486263482942, 0.09676722245426081, 2.4321967427874265),
            (0.0825551777148894, 0.07968358829542149, 2.8793355422921496),
            (0.0631043032521647, -0.042413845392445464, 1.4586380995034378),
            (-0.06377238519330355, -0.03946766281906988, 1.1485404402720427),
            (-0.029541941743126396, 0.008285236839185403, 1.7404776790230325),
            (-0.09593536425703844, -0.058720134436585615, 2.4353559088310615),
            (0.04802368719360792, 0.06520280602589834, 1.4956966779082235),
            (-0.037324328651076225, -0.055255772423522934, 2.606188800780013),
            (-0.09142167965381182, 0.03834714264503153, 1.2212137725168979),
            (0.08376579755493599, -0.04792189342534847, 1.430988517063579),
            (0.023708272356480695, -0.0865555487748398, 2.322507771175049),
            (0.0830643538152297, 0.00993739330713872, 1.1884169107256348),
            (0.052764679676023524, 0.08233869922024997, 1.7447904794107805),
            (-0.011614152958416973, 0.09382613539671047, 1.0118625773826238),
            (-0.026794007291565586, 0.013914898134345072, 1.644670255310571),
            (0.07846229129935173, -0.0023831322615186223, 1.720558081975215),
            (0.055656814580692215, -0.0958827874730168, 2.6557789849739617),
            (0.0050030971813143504, 0.030301660233433364, 2.0556710952790276),
            (0.042050808774028975, -0.07330687774901555, 1.359172602597946),
            (0.09273900217139008, 0.041908412027937714, 1.8474737423451046),
            (-0.03385170794465096, 0.005043584466420212, 1.2719701393232943),
            (0.02834093346411537, -0.09077983406318575, 1.0128318829839464),
            (0.043605424954103356, -0.01003515164325075, 2.295443999784207),
            (0.03766727773007261, -0.057173082861308934, 2.8418925977789926),
            (-0.08952900203751497, 0.015322552898950972, 1.3491102159514958),
            (-0.09750665216641018, -0.03689230013051514, 1.1071818538886284),
            (0.03917991981325858, -0.05346167205050707, 1.4682167786172406),
            (0.06571783491520897, -0.08435965155963426, 1.4379155222979427),
            (-0.048956609196149886, -0.011536938032526908, 1.0104110965642574),
            (0.042815222954852905, 0.09581545249835624, 2.328307229410295),
            (-0.0416777409315797, 0.05314563659848304, 2.2169588293741547),
            (0.04125328623487046, 0.07934017119452749, 2.7384793506833276),
            (0.06774282301294995, 0.08036210964220389, 1.2867950551258431),
            (0.017496082350112324, 0.06968620963134725, 1.6137530345007018),
            (0.05661252892047289, 0.07886071212506385, 1.9844390978187896),
            (-0.08698244797329693, 0.03576165390572991, 2.5139807967368464),
            (-0.0434149278406524, -0.01404589307857454, 1.1650115556528127),
            (0.023432032898242555, -0.059301460198302715, 2.3230085828152074),
            (0.05600896008276676, -0.09507116294809054, 2.5855009608935626),
            (0.01746896698363154, 0.01902927932939584, 2.2291875613421865),
            (0.09619883897094297, 0.05543556330828833, 1.4942832289058063),
            (-0.035093346065253536, 0.005572041945670514, 1.0976903216709903),
            (0.028362988857267124, 0.05059895785660215, 2.126502514803522),
            (-0.017017559624697462, -0.025619152937080378, 2.075086360650583),
            (-0.024665662053880738, 0.03344161403306342, 2.649643771461553),
            (-0.06570850112338011, -0.09214083905390887, 2.4586977120064732),
            (-0.08207495260616585, 0.05697082593135991, 2.633252082749368),
            (0.021666154752589303, -0.09109106559482644, 1.6518249233832343),
            (-0.07170429819902152, -0.016489940405498518, 2.6436643804503808),
            (0.0878927952097438, 0.06587559278066321, 1.3211396760610805),
            (-0.05115148040746958, -0.08857195257007898, 2.6315683545378965),
            (-0.015754125322984563, 0.09845855701050332, 2.1742935324142056),
            (-0.01010027106869174, 0.011089817709716648, 2.0858127009449188),
            (0.05543913585760993, -0.042878378624302285, 1.7068881146945658),
            (0.05279996124905781, 0.036532581384383284, 1.51503245390812),
            (0.013409684660585897, -0.09182494932310864, 1.967156951076905),
            (-0.08950132413745526, 0.010805658958894779, 1.192458455555528),
            (0.07218201257283463, -0.08185705825296147, 2.8511220758062787),
            (-0.04419785761035455, -0.0858453580099695, 1.6359187846266858),
            (0.038856350959646874, 0.06571885556723042, 1.491920589790146),
            (-0.05335821671009877, -0.04613938852342956, 2.9272166682352516),
            (-0.0006003869749823254, 0.010391961585317008, 1.4015006543618371),
            (0.06928328223550434, -0.03474088388374945, 1.4835239908194993),
            (0.03464427309896084, 0.0922201352506376, 1.803889385770474),
            (-0.005459024838537024, -0.08946254223217016, 2.9123318675599976),
            (0.04352365097937411, -0.0866160514905467, 1.6124939332228039),
            (0.06331431129648185, -0.013579814175893268, 2.352076795139916),
            (0.03839262057289555, -0.04930685837953226, 2.9248887686078877),
            (0.016405381910805178, -0.03241849842954865, 1.277144295992492),
            (0.08209204637646861, 0.08830021206724015, 1.368140571473498),
            (0.00037488372176833207, -0.09031359512322126, 1.3705117450932973),
            (0.05427235414924375, 4.477262178334551e-05, 1.8591591151859186),
            (0.09948516552374523, 0.08202106083897881, 1.3805919981746604),
            (-0.0564636212680236, 0.04418363720411217, 2.1636640592499927),
            (-0.031477471435913534, 0.03575844478560172, 2.79714815538658),
            (0.0735855270039697, 0.08813545002852372, 2.076780207605392),
            (-0.048740682131743276, -0.04679340662107537, 2.8142552147572975),
            (-0.025319824187883408, -0.08503634651007055, 2.2551316017901453),
            (-0.07390795206214301, 0.014311255454124747, 1.496157004340917),
            (-0.005545797475106043, 0.040774296466062676, 2.736713644292944),
            (-0.038946037953666204, -0.09630975105521025, 2.0485738482145255),
            (0.0951312726573949, 0.0774961682976262, 1.2758572240931991),
            (-0.014699098031525026, -0.04635466905461852, 2.457567594789325),
            (-0.09716542513888449, -0.04726747577650168, 1.6054972517350061),
            (-0.03575635180429022, 0.04552780361731637, 2.0600487701321324),
            (-0.08786361784461011, 0.036085595624834765, 1.8566595292241102),
            (-0.05103423834729544, 0.03542945531983663, 2.351315939543641),
            (-0.061965403999580754, 0.034828305375651514, 1.3855792065622328),
            (-0.06585222337398547, 0.024692057807799414, 2.1164268563633803),
            (0.06515362802879279, 0.09960323331506479, 1.1880219056935792),
            (-0.08515175631278532, -0.09187945726456986, 2.474920224598893),
            (-0.052724956255425996, 0.0824734496180893, 2.01271299604866),
            (-0.0044046826037438536, 0.04381795849479869, 1.7864227353733053),
            (-0.0870279892505853, -0.011992419738532559, 1.9035827390942985),
            (0.08256945164767643, 0.07233112231638711, 2.1672973415485934),
            (-0.0943887310873842, 0.08373292744782909, 1.3026011685200576),
            (-0.010705773000187241, -0.099739961354951, 1.1867181562859153),
            (-0.032320064518033625, -0.08090543509725368, 2.56984515045085),
            (0.054901158496054175, 0.06680261675480895, 2.2198772448356565),
            (-0.05453915979512913, -0.04214092656400073, 2.7122511814780084),
            (0.09169117621141071, -0.006009236650947852, 2.93811513417112),
            (-0.038071502937994155, 0.011275422397670182, 2.6023677019868643),
            (0.08135094776252391, -0.05774286553875512, 1.8886169084984947),
            (0.09896340993768213, -0.0806463576512418, 1.5968493812527271),
            (-0.008842707467199576, 0.029026113488526878, 2.259096733752444),
            (-0.09992994396985203, 0.03716805555434988, 1.2369865023287214),
            (0.04193267181562538, -0.09643578458493196, 2.161951259519606),
            (0.006109147645270596, -0.07851777092675677, 1.756073933512871),
            (-0.0009884494610457872, 0.05747972004301802, 1.568380598070135),
            (-0.04069610300774984, 0.0659953094546736, 1.0525504437148838),
            (0.04976365199386071, -0.034229056190578214, 2.1344511048682984),
            (-0.031557055657996186, 0.021549764012212716, 1.2987311186685795),
            (-0.03868640787145088, -0.03367445894894898, 1.012937353110888),
            (-0.04451797995089688, -0.04522614675535182, 2.6606526288511843),
            (-0.09804155963031014, -0.04917288743631496, 1.0839343516106414),
            (-0.003154966681355481, -0.022491246253262778, 1.6094753286690324),
            (0.09453710006607477, -0.010419570667082878, 1.0133804693898123),
            (0.03025672816719821, -0.07907434484067791, 1.8577440116708097),
            (-0.07379918561680138, -0.08979031961125102, 1.4332204603900935),
            (0.009391645531651907, -0.09207459433086501, 1.0482975028278805),
            (-0.05018199768691192, -0.04933418995301789, 1.3758220119579778)],
 'work': [(0.08326944831910707, 0.00018779137187077688, 1.3295517188942516),
          (0.11258074251102997, -0.0945706989335641, 1.8085605588290634),
          (0.12981766320812915, -0.09178390063707723, 2.786020011501967),
          (0.05692182508360837, -0.029902176518500162, 1.3661137901837204),
          (0.12893124202589246, -0.014387323981487232, 2.9479107951520502),
          (0.10451145189147076, 0.07563535000491461, 2.1402191313602184),
          (0.13780246897241058, 0.04733280876936166, 1.8245312650561423),
          (0.14098432499038877, -0.032677635014926196, 1.8160270932688087),
          (0.08093968245527702, 0.09986955592971472, 1.383646974098133),
          (0.1282735246887577, -0.03560507981241161, 1.4123279224267498),
          (0.12576594749423484, 0.06675141954851999, 2.720670416271744),
          (0.14141447039861627, -0.030468993525065644, 1.8373538867032249),
          (0.1373242924260898, -0.06999413987342591, 2.700817781661975),
          (0.056159904972862607, -0.067459926936928, 2.71391963427273),
          (0.07552253268832132, 0.0024869769767458527, 1.4502891087866132),
          (0.07866477036622074, -0.006561008757578993, 2.5028819908213977),
          (0.06588537325371611, -0.009864529419010198, 1.235448103751779),
          (0.09692534715203355, 0.07449056091936401, 1.6508142363133556),
          (0.0939045106445387, -0.07842842663846533, 2.3402457156354357),
          (0.09965509564496765, 0.06379729360293696, 1.4167564489354179),
          (0.12344931793672166, 0.043281950532710056, 2.530057689108691),
          (0.06659865928839365, -0.0013818688820663727, 2.3732701434835004),
          (0.1255272480168938, -0.004537087731050549, 2.676688802337574),
          (0.11904895007037067, -0.062488016590807785, 1.6031946851224819),
          (0.14475689447947304, 0.08415516238857665, 1.4750654800227467),
          (0.08181320771535705, 0.014422149971006729, 1.8974797265159369),
          (0.11682096258002862, -0.036828279725299784, 1.4733723936782304),
          (0.07955161035139775, 0.033052286211853465, 1.6868301244336374),
          (0.07471252519522932, -0.017948993221671233, 2.05184389769623),
          (0.1281705310314944, -0.06853606457902231, 1.9202078244996417),
          (0.0879494072204867, -0.01252476248139997, 1.5338857785696516),
          (0.0875278912480761, 0.05423447442012014, 1.086570348199418),
          (0.11335932048494893, -0.06632437638679109, 1.074480149451378),
          (0.10433737446843969, -0.09591304538147108, 2.7269773273336124),
          (0.07663431870900109, 0.03286524921310696, 1.9844795266851856),
          (0.13617738784603617, 0.003846334700057241, 2.5531046491033447),
          (0.11157970538403147, -0.08948327350438529, 1.2870519323938474),
          (0.0615931190484583, 0.047660440365762696, 2.2694570406661247),
          (0.11217885243514518, 0.046345849158406505, 1.4094455270220059),
          (0.055586166814852636, -0.07362035089022023, 2.1201953982542117),
          (0.13890811766598682, -0.003929174720420425, 2.2498986678873067),
          (0.052268856285412314, -0.07258567495238016, 1.2449626501862976),
          (0.12497053956376282, -0.018889257626464054, 2.658102002024708),
          (0.09019167497908183, 0.008553573575409062, 2.892123635341335),
          (0.13639866177145277, -0.0519671199566913, 1.59673166427233),
          (0.07569544535674097, 0.008750755433411417, 1.8227217774724611),
          (0.07043843476329972, -0.011888381221595565, 2.860456314404824),
          (0.12578439337350894, -0.08066237258085261, 1.1001537882503745),
          (0.07543675920352258, 0.05876533254109065, 2.7758209072489173),
          (0.08072858992011697, 0.06585692087593831, 2.8386896300398465),
          (0.09114522431824408, -0.09849935368342633, 1.8733523362627453),
          (0.12115572741631464, 0.04427407902723687, 2.627162857535275),
          (0.07532414691177255, 0.07761230092969865, 1.432225677334088),
          (0.10573397246202398, 0.07884357143930085, 2.8267118932384343),
          (0.06303433679577652, 0.004621896386251656, 1.9208419977228886),
          (0.060875804211150464, -0.07262432856764825, 2.3123059669016923),
          (0.1476756792074116, -0.03136833079218804, 1.1609053459240308),
          (0.08136105267547529, -0.06560756457845869, 1.3055885057292982),
          (0.13354950263477533, 0.0054467490496445115, 1.945643464720024),
          (0.1018229060666151, -0.011510346706059993, 2.235513094971078),
          (0.1281471911839855, 0.0003068310832202298, 1.2976592389553765),
          (0.05894810309396863, 0.09094900489803695, 2.109011014239453),
          (0.11568539104991554, 0.06720178382291436, 1.7760930882941237),
          (0.12390344342301375, 0.06745974360974566, 2.2049757808251877),
          (0.1497821402995705, -0.0820087243362247, 1.7240749972975467),
          (0.05590590370434811, -0.06817452468691039, 1.7792235552784839),
          (0.06027143097954817, 0.05985562311865614, 2.0115355157618398),
          (0.14297985760021698, -0.06700362416084943, 1.2130572679747655),
          (0.09911290712834037, 0.05027180051523314, 2.8260580888613602),
          (0.06776663482941014, -0.09187291496535693, 1.4415346508407996),
          (0.11426385292498732, 0.05901475195683448, 1.1497912350477884),
          (0.1091749001206184, 0.04569642603341678, 1.261565676228157),
          (0.0742384668680666, 0.028284398931261945, 2.1223226964267345),
          (0.12310836375871793, 0.015933597669205518, 2.2770321797572466),
          (0.08450324559848585, 0.014040504906771445, 1.0767334195018348),
          (0.09203946041417752, -0.09392043919601567, 2.2950422427299406),
          (0.10800725664427566, -0.06500313694876433, 2.5947927401095034),
          (0.08373856528798038, 0.07366380756310917, 2.825362633652185),
          (0.12992456441625094, -0.03907063250306162, 1.5632144466685698),
          (0.13736749387176989, 5.167729279922928e-05, 1.1992866991130213),
          (0.13328665803307113, -0.01529267144793893, 1.3030842015476531),
          (0.09451685803408155, 0.06281357849858865, 2.096476641983097),
          (0.1298484185766574, 0.0706456315318611, 2.2815337323210025),
          (0.06126784303500136, -0.0033415375902703104, 2.9156085189352487),
          (0.14250681862417425, 0.040441849634815646, 1.3979453776265753),
          (0.08769569921511015, 0.0643765981234033, 1.631166040957272),
          (0.12298246670516766, 0.055827940029095774, 1.1879874607721599),
          (0.10915939726821966, 0.02895362246624275, 2.9920801990382504),
          (0.14752977705738096, -0.09975125253209849, 1.8825513385337107),
          (0.06913384778020201, 0.09066420593911309, 1.42017120847228),
          (0.1459212677822307, -0.00950972782675634, 1.0620991083532219),
          (0.11040666296282836, 0.058532960442556736, 2.1630394635547217),
          (0.060740876365789336, -0.04317775479123518, 1.533504675909406),
          (0.11284285740550538, 0.06667151350664041, 1.855153482011784),
          (0.08142535385411237, -0.059024958217847034, 1.2803121360334704),
          (0.08929646555981659, -0.003675309149921424, 1.6555286011603156),
          (0.1290025571403713, -0.05137362901020675, 2.3739965988116007),
          (0.06525449623820098, 0.032310881563566235, 2.3048615260053626),
          (0.14527578885288395, -0.08428876051434286, 1.5700523872050671),
          (0.09767474304646351, -0.04731862832928431, 1.3773521827316746),
          (0.07907285064193822, -0.014037994496064438, 2.2721936956684874),
          (0.09766976738962656, 0.03609721373060801, 2.2147570775202574),
          (0.12489388937563449, -0.08452688374942402, 1.8856735979470072),
          (0.12463359558127617, -0.060541015750329955, 2.3410479552994916),
          (0.0567962181536036, -0.06537046148209014, 2.92967292521944),
          (0.13375474053773978, 0.012980405860230776, 1.6816315583933357),
          (0.08240665107489538, -0.08601659853267314, 2.9746973359877042),
          (0.0918396364270104, -0.011177549100861883, 2.9869953227671715),
          (0.1478820777229517, 0.07528600473904287, 2.0873689024564497),
          (0.07550550772602463, -0.055710047317828804, 2.039010459593488),
          (0.054199299278284145, 0.022414537209539162, 1.6230015696459674),
          (0.05998934444817453, -0.08876442213269645, 1.0495868153094579),
          (0.10946300688313554, -0.034981932773285124, 2.244714170136986),
          (0.06185427372597818, 0.044019859784628246, 1.9679166835914044),
          (0.117323418391149, -0.032459898494003214, 2.47074540675336),
          (0.1352082403118438, 0.08972951782274916, 2.8680635415426297),
          (0.06420187552086712, -0.09648470551328514, 2.1458524246658692),
          (0.10097149205066763, -0.053128230242568346, 2.3848599122052923),
          (0.10979448915422152, -0.060265270868553204, 2.1332874903103676),
          (0.1186737310235645, -0.07212270508010124, 1.889484066635421),
          (0.12050847245351048, -0.0136398444822559, 1.5488955288656148),
          (0.08462117866915053, 0.05643185565413608, 2.209138359822204),
          (0.148067256774558, -0.08498964159289042, 2.6200080005742175),
          (0.10453669661076863, -0.06586351181348546, 2.8113593558004473),
          (0.1274180586757008, 0.002024444797933428, 1.3740711675237982),
          (0.08210385174861981, 0.07533496470725184, 1.6664868447570307),
          (0.07730638527412712, -0.05005535340666754, 2.22007276076735),
          (0.05454641939414188, -0.0008320084119626536, 2.438568030607951),
          (0.07778270158930964, 0.032070278839913924, 2.3926134701749984),
          (0.05747847787323956, 0.06210933384174058, 2.4432904916426237),
          (0.10817431767777821, 0.0005372400762700541, 1.290822791913962),
          (0.14928254957947726, -0.02701802329959338, 2.0391632491766707),
          (0.10241857560591561, -0.00011926784246318878, 2.7468660329192707),
          (0.13022576049901757, 0.047314387815422076, 2.630949798393737),
          (0.08875305735194464, -0.04858182149456987, 2.4285011205234706),
          (0.09530363702594151, 0.07916080486451746, 1.8769949072344512),
          (0.10050247327550181, -0.048236198198282, 2.572486515997811),
          (0.13136980182850505, 0.039649542007855254, 2.611227707308274),
          (0.08721269728223938, -0.08242997739698309, 1.3932931965935376),
          (0.07059961053151202, 0.06220627778173987, 1.1331442813167318),
          (0.10005408305466451, 0.047296284098714725, 1.6940426081735875),
          (0.06521529039232214, -0.03902845179209638, 2.0585886410493246),
          (0.09445287192803098, -0.04248898079150694, 2.2918573770466475),
          (0.1465496784503877, -0.02634062624793579, 1.2264666636089177),
          (0.13715826899459735, -0.04778126827832883, 2.236843256959193),
          (0.14549750889279756, -0.04591131314642947, 1.4052082097277168),
          (0.117580530367886, -0.06442620945521066, 1.1752425627844338),
          (0.08834977607950927, -0.07143728427173182, 1.2716560557895331),
          (0.11587396256665075, -0.09636691088676147, 1.9983227698722668),
          (0.07844687723672919, 0.08667546620857913, 1.349946748286259),
          (0.07401657650137747, -0.010775419479752996, 1.4245976777546172),
          (0.0579666939518856, -0.06677625108841714, 1.2795773938580697),
          (0.11913610844734675, 0.08166472562193339, 1.726625797990887),
          (0.08661351940950406, 0.026104917004051653, 1.5360997125875324),
          (0.10507418902240581, -0.004282227147515666, 2.832360895489864),
          (0.14667776804686666, 0.02155339976086916, 2.961572262127196),
          (0.10294696980163187, -0.07110227631515027, 1.5667329563373882),
          (0.1363656377754861, 0.004252432090866454, 1.7802103634936641),
          (0.11567589568342498, -0.041656144929437144, 2.447381470109569),
          (0.10057566475144272, 0.09900203448040734, 1.093129003546728),
          (0.0588174312749873, -0.008877173630412266, 1.7569140693922418),
          (0.058935247370032195, -0.0875705073643289, 2.349515504537192),
          (0.10798285439439739, 0.02061231878677064, 1.087316187618338),
          (0.062044290584948085, -0.06164425638738163, 2.3758735624202494),
          (0.14621677919513643, -0.021081675377587025, 2.9696296159579973),
          (0.10545139778444623, -0.05337460430220451, 1.3646532387994748),
          (0.09954755694594489, -0.042571426720441743, 1.3440061332180802),
          (0.10033155953326928, -0.090390292983524, 2.137610262066664),
          (0.12142881331355516, 0.05950796846378725, 2.1695088798461812),
          (0.06405217964070462, 0.06996508976846111, 2.6834688981142647),
          (0.05411625644831833, 0.013899481759188759, 1.0222129283168755),
          (0.1426532348431349, -0.031705517035669706, 1.8520970185771122),
          (0.11918549459266183, -0.09779281729121561, 1.9395747923020608),
          (0.10722432811122272, 0.03606215119141301, 1.041841539576423),
          (0.1160572365431094, -0.05695087805589998, 1.3870586948051837),
          (0.10383730460085105, -0.046947162053895264, 1.8281260083736193),
          (0.1268117097807659, -0.029868216894318067, 2.461370279247575),
          (0.13843717063246658, -0.045911352908656756, 2.6107448418337187),
          (0.14407574782361182, -0.012208673432981001, 2.3491278075488373),
          (0.11975374893001618, 0.00607560755167795, 1.7785356552290033),
          (0.10902573376415567, 0.08955274674000555, 2.0486314202945892),
          (0.10012458511790753, 0.027490659431037262, 2.4137582274142524),
          (0.11404505648904122, -0.048199471063885606, 2.3642666263095498),
          (0.11541127529302468, 0.0615190014020614, 1.6991140027392622),
          (0.10996866913959977, 0.03617347080776864, 2.1807675573195233),
          (0.07575458187784485, 0.005641634612779486, 2.0530189369583995),
          (0.13312812375864602, 0.08917758027584793, 1.6267932518636474),
          (0.13824564757342386, -0.04920770769056446, 2.953096703153868),
          (0.07241359225188519, 0.04337710808768572, 2.538846620680662),
          (0.0940841567867253, 0.005497174384235734, 1.141438145835337),
          (0.05499677137246616, -0.0422518060723035, 1.2466506215686097),
          (0.10283368839653605, -0.06374034405669368, 2.7583634090627465),
          (0.10158502488575569, 0.025711685414063185, 2.243824871088128),
          (0.10432914106570096, 0.029327777552276335, 2.3339033380110887),
          (0.10676333459143636, -0.09282244043908927, 2.5962459821143145),
          (0.09474517832312988, 0.033503745040326716, 2.1760119554337054),
          (0.12634787821470694, 0.0673221811223349, 2.6361397317530963),
          (0.05815593472157944, -0.058504414036366484, 1.4954491727301724),
          (0.10189586532313269, 0.01055471304286612, 1.6881866571923543),
          (0.08795545017560748, 0.05250155655048944, 2.751701125942794),
          (0.05691292294395398, 0.04542431890203616, 1.1883311496537607),
          (0.05070365395321156, -0.006299641954510646, 2.647399618397389),
          (0.08190439740824948, 0.009194317592421869, 2.6723289084758095),
          (0.09809069379751706, -0.03272931787723603, 1.6585471564719143),
          (0.11061806026223212, 0.011239786085593978, 1.5694156623446018),
          (0.1436410421232053, 0.07642544178019503, 2.728059302478076),
          (0.05638736438318122, 0.09877533085561296, 1.442266623461352),
          (0.14670733996450114, -0.023256513504675058, 2.325625218627782),
          (0.065194849428761, 0.05774194726549853, 1.9330328872861289),
          (0.14087293287048747, 0.031296572893333596, 1.9263362679177831),
          (0.13737489860021534, 0.015740314687683915, 1.27025528287173),
          (0.1465172574520447, 0.0943399558112856, 2.8802373614543857),
          (0.1464769634867914, 0.06980485494750605, 1.5383856947382069),
          (0.07297006068598735, 0.06109166245235237, 2.5277424893313487),
          (0.08514487750903237, -0.05147189036232909, 1.7924646974534197),
          (0.05482624469191788, 0.07345305537203589, 2.822795836138498),
          (0.10288176078418004, -0.05628452718048132, 1.4446860988958947),
          (0.1227236412913193, -0.007774430373913371, 2.561901574456132),
          (0.14197585803360915, -0.0312925142678228, 1.1708444411648216),
          (0.1397936533285139, -0.060386423961317506, 1.2934737282798419),
          (0.11171210939317437, -0.05571268976809321, 2.1609140678198804),
          (0.09817045898912852, 0.09256518325978205, 1.3197980917904566),
          (0.05964273192935768, -0.028677334185869444, 2.6407999538869116),
          (0.12441945782778856, -0.024587265405838027, 2.5964077921643307),
          (0.0520264235905617, -0.04720153221324495, 1.6314726305136802),
          (0.13699120511003088, -0.08596831677077695, 2.497161305310804),
          (0.1428906020563689, 0.08077187783134138, 1.824499327275132),
          (0.14860258168849044, -0.0841997261534707, 1.650552552044341),
          (0.05593864223603456, 0.0360370004019018, 2.8025498439813132),
          (0.08542088565235073, 0.023041804787157255, 2.240862935490469),
          (0.1120994136297162, 0.007941350824824986, 1.0616351292244088),
          (0.1296896264440214, -0.052576609394791696, 1.2246553375982043),
          (0.10132022055689982, 0.029426539124876305, 1.661152272320059),
          (0.09593411210196572, -0.04461482730997393, 2.1328548169643433),
          (0.13842654339612037, 0.0044258131286502855, 2.0522613112582206),
          (0.09519561851386704, -0.0141115402155199, 1.2559096261168057),
          (0.12572443120844823, 0.09755800349199736, 1.7082643211447588),
          (0.12883573194103262, -0.06134181231837091, 1.5289423159046927),
          (0.08691050438997792, 0.0847657016415832, 2.340895207298537),
          (0.14723885385944685, -0.02356331103370682, 1.1653780369286213),
          (0.05425161814314122, 0.03202350319512359, 2.1969547028450984),
          (0.09963250084830988, -0.02386829660408754, 1.6699519078658367),
          (0.11057520078942228, 0.09800186830189289, 2.8101205452063924),
          (0.13630333246659823, -0.046807013579585104, 2.255393248833828),
          (0.06552221237581382, 0.07153694769627461, 2.9691277837701198),
          (0.08529213163065673, 0.006162340207769582, 1.7841667456618002),
          (0.10852871959152563, -0.0028346958589844373, 2.2478670858649226),
          (0.05892516108127961, 0.06359357107487357, 2.4083197881857537),
          (0.06160960095221865, 0.06324298640799533, 2.811438358197604),
          (0.14270592677142208, -0.006142641718171027, 2.2220147593711976),
          (0.05315480954401474, -0.02498011350306162, 2.865695374284819),
          (0.11088415211599395, -0.03178985435559388, 2.2659544546786776),
          (0.13410628900724808, 0.05048552084745844, 1.5014008080223946),
          (0.1357481207382511, -0.06005649499049009, 1.8959952105840503),
          (0.1457146710353075, -0.09741021154097451, 1.0113187306746092),
          (0.14582007892831916, 0.08512293444165334, 1.5376708517344906)]}

main()

# Comment to update:6187826765091552255946178684