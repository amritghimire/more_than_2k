#!/usr/bin/env python3
# An evaluate generic fake script
import os, sys, json, math, hashlib
import random

VERSION = 1


params_values = {}


def get_param_value(name, default=None):
    return next((v for k, v in params_values.items() if k.endswith("." + name)), default)

def set_random_seed():
    random.seed(get_param_value("seed", 1234))

assert len(sys.argv) == 3, "Expected argv: evaluate.py model test.data"


def phi(x):
    'Cumulative distribution function for the standard normal distribution'
    return (1.0 + math.erf(x / math.sqrt(2.0))) / 2.0

def hash_str(s):
    return hashlib.md5(s.encode()).digest()[0]

FINALIZE = {"0-1": phi, "1-0": lambda x: 1 - phi(x), "id": lambda x: x, "0-": math.exp,
            "intexp": lambda x: int(1000 * 10 ** x), "int": lambda x: int(100 * x)}


def evaluate_metric(name, typ, data):
    val = 0

    for p, v in data["params"].items():
        v = math.copysign(math.log(abs(v) + 1, 100), v)
        factor, noise, noise_period = COEFS["params"][hash_str(f"{name}:{p}")]
        val += factor * v + noise * math.cos(v / noise_period * math.pi * 2)

    for i, w in enumerate(data["work"]):
        w *= 0.33
        factor, noise, noise_period = COEFS["work"][hash_str(f"{name}:{i}")]
        val += factor * w + noise * math.sin(w / noise_period * math.pi * 2)

    return FINALIZE[typ](val)


def update_json(filename, update):
    try:
        with open(filename) as fd:
            value = json.load(fd)
    except (FileNotFoundError, json.JSONDecodeError):
        value = {}

    value.update(update)
    with open(filename, "w") as fd:
        json.dump(value, fd)


def dict_set(coll, keys, value):
    for i, key in enumerate(keys):
        if i == len(keys) - 1:
            coll[key] = value
        elif key not in coll:
            coll[key] = {}
        coll = coll[key]


def main():
    with open(sys.argv[1]) as model:
        data = json.load(model)
        data_size = os.stat(sys.argv[2]).st_size
        data["work"].append(math.log(data_size + 1))

        for filename, metrics in METRICS.items():
            update = {}
            for name, typ in metrics.items():
                dict_set(update, name.split("."), evaluate_metric(name, typ, data))
            update_json(filename, update)


# This coefficients define how params and "work" (data amount + code version) change metric values.
# To be both stable and not preconfigured for particular param/metric names we use feature hashing.
# These take some space so we place it as low as possible in out code.
METRICS = {'metrics.json': {'branch.accuracy': '0-1',
                  'branch.auc': '0-1',
                  'branch.avg_time': '0-',
                  'branch.benchmark': 'id',
                  'branch.distinct': 'int',
                  'branch.entropy': 'id',
                  'branch.errors': 'int',
                  'branch.exp_cost': 'intexp',
                  'branch.f1-score': '0-1',
                  'branch.falsepos': '1-0',
                  'branch.fullscore': '0-1',
                  'branch.index': '0-',
                  'branch.ko': 'id',
                  'branch.loss': '1-0',
                  'branch.meanscore': '0-1',
                  'branch.n_docs': 'intexp',
                  'branch.non_null': '1-0',
                  'branch.precision': '0-1',
                  'branch.prediction_time': '0-',
                  'branch.recall': '0-1',
                  'branch.size': 'intexp',
                  'branch.time': '0-',
                  'branch.weighted_avg': 'id',
                  'branch.x2': '0-1',
                  'brand.auc': '0-1',
                  'brand.avg_time': '0-',
                  'brand.benchmark': 'id',
                  'brand.distinct': 'int',
                  'brand.entropy': 'id',
                  'brand.errors': 'int',
                  'brand.exp_cost': 'intexp',
                  'brand.f1-score': '0-1',
                  'brand.falsepos': '1-0',
                  'brand.fullscore': '0-1',
                  'brand.index': '0-',
                  'brand.ko': 'intexp',
                  'brand.loss': '1-0',
                  'brand.meanscore': '0-1',
                  'brand.n_docs': 'intexp',
                  'brand.non_null': '1-0',
                  'brand.precision': '0-1',
                  'brand.prediction_time': '0-',
                  'brand.recall': '0-1',
                  'brand.size': 'intexp',
                  'brand.time': '0-',
                  'brand.weighted_avg': 'id',
                  'brand.x2': 'int',
                  'classifier.accuracy': '0-1',
                  'classifier.auc': '0-1',
                  'classifier.avg_time': '0-',
                  'classifier.benchmark': 'id',
                  'classifier.distinct': 'int',
                  'classifier.entropy': 'id',
                  'classifier.errors': 'int',
                  'classifier.exp_cost': 'intexp',
                  'classifier.f1-score': '0-1',
                  'classifier.falsepos': '1-0',
                  'classifier.fullscore': '0-1',
                  'classifier.index': '0-',
                  'classifier.ko': 'intexp',
                  'classifier.loss': '1-0',
                  'classifier.n_docs': 'intexp',
                  'classifier.non_null': '1-0',
                  'classifier.precision': '0-1',
                  'classifier.prediction_time': '0-',
                  'classifier.recall': '0-1',
                  'classifier.size': 'intexp',
                  'classifier.time': '0-',
                  'classifier.weighted_avg': 'id',
                  'classifier.x2': 'int',
                  'reports.accuracy': '0-1',
                  'reports.auc': '0-1',
                  'reports.avg_time': '0-',
                  'reports.benchmark': 'id',
                  'reports.distinct': 'int',
                  'reports.entropy': 'id',
                  'reports.errors': 'int',
                  'reports.exp_cost': 'intexp',
                  'reports.f1-score': '0-1',
                  'reports.falsepos': '1-0',
                  'reports.fullscore': '0-1',
                  'reports.index': '0-',
                  'reports.ko': '0-1',
                  'reports.loss': '1-0',
                  'reports.meanscore': '0-1',
                  'reports.n_docs': 'intexp',
                  'reports.non_null': '1-0',
                  'reports.precision': '0-1',
                  'reports.prediction_time': '0-',
                  'reports.recall': '0-1',
                  'reports.size': 'intexp',
                  'reports.time': '0-',
                  'reports.weighted_avg': 'id',
                  'reports.x2': '1-0',
                  'train.accuracy': '0-1',
                  'train.auc': '0-1',
                  'train.avg_time': '0-',
                  'train.benchmark': 'id',
                  'train.distinct': 'int',
                  'train.entropy': 'id',
                  'train.errors': 'int',
                  'train.exp_cost': 'intexp',
                  'train.falsepos': '1-0',
                  'train.fullscore': '0-1',
                  'train.index': '0-',
                  'train.ko': '1-0',
                  'train.loss': '1-0',
                  'train.meanscore': '0-1',
                  'train.n_docs': 'intexp',
                  'train.non_null': '1-0',
                  'train.precision': '0-1',
                  'train.prediction_time': '0-',
                  'train.recall': '0-1',
                  'train.size': 'intexp',
                  'train.time': '0-',
                  'train.weighted_avg': 'id',
                  'train.x2': 'int',
                  'train_full.accuracy': '0-1',
                  'train_full.auc': '0-1',
                  'train_full.avg_time': '0-',
                  'train_full.benchmark': 'id',
                  'train_full.distinct': 'int',
                  'train_full.entropy': 'id',
                  'train_full.errors': 'int',
                  'train_full.exp_cost': 'intexp',
                  'train_full.f1-score': '0-1',
                  'train_full.falsepos': '1-0',
                  'train_full.fullscore': '0-1',
                  'train_full.index': '0-',
                  'train_full.ko': '0-',
                  'train_full.loss': '1-0',
                  'train_full.meanscore': '0-1',
                  'train_full.n_docs': 'intexp',
                  'train_full.non_null': '1-0',
                  'train_full.precision': '0-1',
                  'train_full.prediction_time': '0-',
                  'train_full.recall': '0-1',
                  'train_full.size': 'intexp',
                  'train_full.time': '0-',
                  'train_full.weighted_avg': 'id',
                  'train_full.x2': 'id'}}
COEFS = {'params': [(0.07842067007586714, -0.06785400523916052, 2.078141988415774),
            (0.0522567500748109, -0.01568377919197994, 2.780361290362011),
            (-0.003464424718656156, -0.02860688574648662, 1.039665956600481),
            (-0.030206243085525872, -0.03829729958538926, 1.6631908796272028),
            (0.022823687168210566, -0.012142757493558018, 1.3548083827507749),
            (-0.049662199087727954, -0.008317733153814233, 1.6780495654878735),
            (-0.05789224916080618, 0.020505802585747898, 2.7524000387797143),
            (0.025508615608171026, -0.08802051190660894, 1.9938346787755776),
            (0.04061271659069193, 0.01703881477998706, 1.7819464884600063),
            (0.07225278583964542, 0.06671453954903894, 2.2455038381043666),
            (-0.0183186359045147, -0.027245597479300596, 2.4959118768401685),
            (-0.08192474541239492, -0.025847173548552857, 2.3152179467900806),
            (-0.054768408508579114, -0.001826371992196374, 1.3324181474230383),
            (-0.048480476554108656, -0.036665368756790315, 1.4306727334063838),
            (0.030913125628867305, -0.05530623397863652, 1.295726351221183),
            (-0.03718159138698798, 0.030538438590134664, 1.0329346795416954),
            (0.09248786851542376, 0.0039655174361373086, 2.683401626235611),
            (0.0759902151699115, 0.07845800147849594, 2.341404344385799),
            (0.09985017479545805, 0.054384062209723166, 2.5443591368435916),
            (0.059302944248887934, -0.018671389025265106, 2.185494055667335),
            (-0.054266878813647806, 0.09225965072009201, 1.948758824358909),
            (-0.03543800637099902, 0.004285131085235788, 2.939965340575557),
            (-0.017238881470689443, 0.020053931727697955, 2.3128095479934254),
            (0.08108267828176852, 0.0319199443694104, 1.6027394735138867),
            (0.0861106444533127, -0.028763958262446, 2.1626542709729843),
            (-0.020056114296206948, 0.0972924569034459, 1.872975181926363),
            (-0.08063036549566532, 0.05559488269306595, 2.4835719860657983),
            (-0.07491313947380665, 0.0467500720576631, 1.56779226453559),
            (0.01814751538878359, 0.060303183024863816, 1.529512381247664),
            (-0.022999067766707543, -0.0565482281912667, 2.4338597154558697),
            (-0.05401343785448043, 0.07665620143825824, 2.8448703391702654),
            (-0.04263483932061421, 0.037595127927311345, 2.442618832825297),
            (0.057524008225163265, 0.02259371790571396, 1.7893139098914421),
            (-0.014727530146374762, 0.09851425590618074, 2.3323346422772486),
            (0.06444291290400675, 0.08071674801080853, 2.3785100224677507),
            (-0.05834229263017002, -0.02566119543741384, 2.253994875774758),
            (-0.014701277581863417, 0.0718780282684102, 2.9610675415627377),
            (0.0243063092350356, -0.09730653706104078, 1.1210186018169683),
            (0.06784522381903627, -0.09052069927598312, 2.448660515338874),
            (-0.046889008192243224, 0.02144429026502878, 2.0185033299619226),
            (-0.04283222736281609, 0.05314283236051878, 1.611492030795968),
            (0.08824504427445179, -0.008539373956393037, 2.2296694635166543),
            (0.03387745367793246, -0.006963321387337323, 1.7599669668573357),
            (0.014768678154407258, 0.08205274729989445, 1.9417846464319086),
            (0.06355826499957662, -0.08704852539435637, 1.5035925667103947),
            (-0.09524494316512294, -0.00915465728730129, 2.1814661579689174),
            (-0.05440856492371513, 0.07106170161144179, 2.31605045125709),
            (0.06679588302976466, -0.04840396316503524, 2.525503083276002),
            (-0.06149306412582061, -0.030998057502101828, 2.1938128969978465),
            (-0.02709272765669761, 0.06435613541696214, 1.0225221301262828),
            (-0.013560127637288949, -0.018502456199243886, 2.536810083101379),
            (-0.03737288675115483, 0.027271445338259426, 2.7981501014926753),
            (-0.005725073868090361, 0.04956773414926288, 2.724093611686131),
            (0.0902275889424114, 0.09646525404572179, 1.2761762330557287),
            (0.011994422951578904, -0.016146442113612783, 2.3504245620349318),
            (0.07834949777830905, -0.03654236119769953, 2.394844040576266),
            (-0.008439241214408602, -0.05390497800145098, 2.1473379653641906),
            (-0.08601919749317162, -0.07841480518794104, 1.8888201817162769),
            (0.03779012260308556, 0.0816938984310897, 1.4043624013528222),
            (0.015061469393765653, 0.0999852884099279, 2.909772836067347),
            (0.046293603358643715, 0.04124149431841645, 1.8029052475961045),
            (-0.06605215417900973, -0.08013199364223807, 1.2795003724067746),
            (-0.0925125585457287, -0.0417565281997172, 1.9743024129923128),
            (-0.0005495839902262684, 0.0055495493668629575, 2.7689840544075213),
            (-0.010279965909880118, 0.06472299086002256, 2.7802523669333876),
            (-0.08940038176483987, 0.025397587586267367, 2.530678222959362),
            (-0.0038054514602845757, -0.027186623221800793, 1.3852787016335202),
            (0.006986787014965662, -0.053223762568566736, 1.816073407926653),
            (0.0680006844224342, -0.05077209149196951, 2.2059162173987805),
            (0.035996221765995706, -0.08521135566082001, 2.6442049910394907),
            (0.06692321843480181, 0.015300147202589945, 2.8303437330159547),
            (-0.07718359981063437, 0.019592904760872318, 1.011822331604092),
            (0.07944007235489778, -0.023675070779438007, 1.4757661107952964),
            (-0.01098535096470396, -0.03630134031080001, 1.0502587434573325),
            (-0.015054960405578077, -0.01754283188866279, 1.369660068483308),
            (-0.018969927423140118, 0.08377216339967239, 1.7775493637714255),
            (0.04578031580560324, 0.01415423542815579, 1.7492599816403058),
            (-0.058637943111382644, 0.01903559152302345, 1.2597526983381224),
            (0.03313150787343716, -0.01698808368481239, 2.680134558665277),
            (0.02056587463209958, 0.036487296266968366, 2.9931759596609586),
            (-0.03492147475066132, -0.0816021026512171, 1.2908485632978117),
            (0.034290518963212696, -0.01103875783612751, 1.6509746824083915),
            (0.008380414104825637, -0.07573303068542302, 2.9862236838044938),
            (-0.027837735725465107, -0.0971699550821432, 2.9530977711938835),
            (0.08743734090211847, -0.0953201303199439, 1.8387712096386861),
            (0.05078930028772488, -0.05807208487693945, 2.3805483687785243),
            (-0.0943709528132028, -0.07247208175384204, 2.8567793003684203),
            (0.09741308030456072, 0.09233987511380881, 1.6858980177147065),
            (0.07945100356803211, 0.025034023873635708, 1.3335527443943136),
            (0.03888653734064959, -0.05590430742767014, 1.9080769025286204),
            (0.04708692738524628, -0.05238355720832271, 1.3501283773428325),
            (0.06014583662488557, 0.0456693992535637, 1.510242964593784),
            (-0.08060778960426569, -0.05593825020823593, 1.4787630917475394),
            (0.06484891499092543, -0.03325292480661428, 2.3268961865618474),
            (-0.019759603226480654, 0.035685211834068226, 2.2444368746153205),
            (0.08997955875966052, 0.08580018598318628, 2.720996152117516),
            (-0.06332565456069994, 0.0106892655494107, 1.756110155604654),
            (0.007582098686644084, -0.025387355454105448, 1.83556135167761),
            (-0.045182585345951834, 0.05004903160390417, 2.6713070093503113),
            (0.05214597622649009, 0.0980940425856883, 2.8377312233223906),
            (0.03735847508992676, -0.07861485698471378, 2.6302312311897724),
            (0.04900550414069907, 0.019506480550658317, 2.2289005966412927),
            (0.05679749083181915, 0.060525202223939395, 1.7448068637915566),
            (0.035828967464933664, -0.0816295175701656, 2.3269505311186798),
            (-0.06464838040258072, 0.01652929221251606, 2.9001798105083054),
            (-0.06992693307851479, 0.032566867214194134, 2.4473518613158394),
            (0.08974945480786442, 0.02701776270075193, 1.2472192093874102),
            (0.015335958175939246, 0.06396853795893784, 1.254792375239306),
            (-0.031154602857134187, -0.005639968603140796, 1.0751063710117916),
            (0.05883712176457398, 0.061204487298000904, 2.175487367945271),
            (-0.034659526442897715, 0.0020492259721474476, 2.960127954905664),
            (0.009705416966198283, 0.04151263547853318, 2.485556958370022),
            (-0.021044546231043543, 0.05179178121661568, 1.3315681221789977),
            (-0.0713515174904597, 0.046525366094732734, 2.2728479756350954),
            (-0.07014404521789881, -0.03777344921033419, 2.3586180309783655),
            (-0.05015167216537464, 0.0036455928051895847, 1.7750542623384284),
            (-0.09446567990030111, -0.035169353444380574, 1.1332807225830783),
            (-0.04416543308416154, 0.016624317534455785, 2.10305650266847),
            (0.0011194712770693088, 0.07851053986580989, 1.0077647340439329),
            (-0.0817205004263702, 0.0695229839898088, 1.0501602527391183),
            (-0.08397115195747565, 0.021792752607624227, 2.7200226963156053),
            (-0.08359764783248536, -0.028427610059750766, 2.4578601668028903),
            (0.07671015296071285, 0.027066225927930898, 1.9253398448336065),
            (-0.08683127667718578, 0.004061750699171099, 2.1679707442641316),
            (0.01171970353390972, 0.0631927992105141, 2.1160415692623564),
            (0.07069902035985642, 0.09940313848438073, 2.76928910215529),
            (-0.06091650507496471, -0.0735431769338248, 2.8767498755686365),
            (0.0005833185014175457, 0.08155540213789048, 2.6940725068035016),
            (0.0512192287301676, -0.008222449816032748, 1.672022990706121),
            (-0.03922059663807545, -0.016681581849642413, 2.523920348485971),
            (0.09802805281151336, 0.07252083732837586, 2.3891159679061813),
            (0.04951898272516056, 0.04045301077644031, 1.0228518563825593),
            (-0.03951272131334274, -0.07375255455311347, 2.637447961820582),
            (0.00586512421335858, -0.05738627291663887, 1.9852135235723767),
            (0.08020488124154346, 0.0146479104205339, 1.7028033604931632),
            (-0.022766588294079362, 0.08903451347371269, 1.7933006391396344),
            (-0.037692241362709704, 0.027926779024800397, 2.7740975690537946),
            (0.09186165843197291, 0.0754647748586309, 2.699232301308183),
            (-0.09135687935535937, -0.08518301423714625, 2.835324782756526),
            (0.024709366650159256, -0.09872079871195855, 1.0127803393579462),
            (0.08053693723550284, 0.0987763870747412, 2.2778464777),
            (0.03198884032719712, 0.0533232826042295, 1.7928532650148883),
            (0.043610494113378195, -0.0321526614359242, 1.6279957563012502),
            (0.05902360249023386, 0.021412124145734304, 2.8608743751568166),
            (-0.08082204345967402, 0.09783956604569619, 1.349801702888785),
            (-0.08361774045176472, -0.02435586739104409, 2.751876582188552),
            (0.09294381940956828, 0.008861753387590404, 1.8176570165660786),
            (-0.09615796367371905, 0.001876512486783638, 2.0631898261054227),
            (-0.0635436938803538, 0.08226935018229917, 1.1757083954588052),
            (0.09211456622368006, 0.08258937834800517, 2.2696613405659436),
            (-0.09892110927358051, 0.03016552646775622, 2.5822984366161212),
            (0.050272648813588366, -0.08233287393229934, 2.6169329617420005),
            (0.08494738414402117, 0.0028126733739208126, 2.4415806955036006),
            (0.06526052775334384, -0.056357328678351686, 2.7784660753542814),
            (0.0008900629416674216, -0.02682827974292082, 2.8029807212913793),
            (-0.0207737884572593, -0.07239813678203753, 1.686861869124128),
            (-0.07117552969561743, 0.016662391781483876, 1.7492220415239812),
            (-0.04672278920587099, -0.08354461877557509, 2.853079106923685),
            (0.022625202830531183, -0.07449803656839644, 1.6896758727935317),
            (-0.05412851718417851, -0.07372132010008298, 1.152477616042939),
            (-0.025119283914837073, -0.0991751389123618, 1.5495640358149834),
            (-0.09807312119034667, -0.07778190465143231, 2.3463057044356557),
            (-0.0841790018093507, -0.06597172750482745, 2.585763585438957),
            (0.01060146698766791, -0.04675444296200873, 1.7330699312837023),
            (0.06584191010623283, -0.03789995951500991, 2.520781262385615),
            (0.0013411712617518584, 0.010423058519638512, 2.2396094734463277),
            (0.014479352766169601, -0.051494767447212444, 1.8020938143312768),
            (0.03272909669285323, -0.007999312520011098, 2.545787328508336),
            (-0.0736234130516808, 0.08824350395042563, 2.700174876061433),
            (-0.06978980372765833, 0.0045476138276346195, 1.1007125695108277),
            (-0.009332733328320436, 0.02630942909890796, 1.0845142934207666),
            (-0.08864622818839063, -0.035273125189663704, 2.7437681448334823),
            (-0.001390763018270208, -0.06320204258686216, 1.2812951545242188),
            (-0.066279312517112, -0.07187442936232842, 2.711056308297424),
            (-0.08285083310230223, -0.0836748735283194, 1.651354331451247),
            (0.012421911050861878, 0.010779076917809507, 1.0957118764752298),
            (-0.005193086741412209, -0.031665296403461635, 1.4433578798592326),
            (-0.06968670459775113, -0.09269875120973635, 1.5278350585566294),
            (-0.08540976243705077, 0.06821653648000764, 1.5865032505236991),
            (-0.0992810708165099, 0.0014767965133250655, 1.8023867903039785),
            (0.08562481973009481, -0.02112330901389517, 1.7182312864302658),
            (0.053573053091375694, -0.03608703312218871, 2.0170146868698122),
            (-0.05383011898540207, -0.019726151197309028, 2.857205409789805),
            (0.05321034893366991, 0.07553751574245296, 2.1912993716138605),
            (0.05495233745481201, 0.09338326979729936, 2.401401939053258),
            (-0.008436625515786056, -0.04967704260890771, 1.5924723455545489),
            (0.0869486582721837, 0.034665478633924024, 2.9874006279617147),
            (0.09985712697869606, 0.05740516598464793, 1.3707299074744854),
            (-0.02936800797287631, 0.09954036287416745, 2.75302919361268),
            (-0.03752052590478301, -0.08410260889732069, 1.8535335994980262),
            (-0.06503985712063615, 0.01707244737245081, 1.8671724387295985),
            (0.06950138893641175, -0.06611162414344451, 1.6220422679357005),
            (-0.08275815778930025, 0.03460965330046947, 2.824999025490403),
            (0.06026853824043418, -0.03911988886505174, 1.1780497901473919),
            (0.010731265382447952, 0.036820100317165455, 1.714883589314002),
            (0.025657724620243516, 0.00034228804375513455, 1.5367426308792171),
            (0.055394700475762365, -0.052530719684107496, 1.4460482986024639),
            (0.04082079374928463, 0.05090316511625664, 2.9334725607128003),
            (0.04442284115624445, 0.045284118904345805, 2.1494265999331104),
            (-0.047898019776857065, -0.08722498900117995, 2.2626187183365674),
            (0.0785391098720705, 0.014556881515934816, 2.021122255904554),
            (0.03372282140651989, -0.043746697207875586, 2.5935878041968508),
            (0.058167632310974965, -0.05164268376198447, 1.6574780048771522),
            (0.03602550868511706, -0.09937443913024142, 1.698101240176167),
            (-0.08290811758973238, -0.06322737068345224, 1.1488368471740837),
            (-0.049258546520561566, -0.0913415225973026, 2.789087857273777),
            (-0.04121057838328675, 0.0694602972395626, 2.6555874187273236),
            (0.05109822745544329, -0.007031933641549373, 2.582526545506277),
            (-0.008293172850876857, -0.0027002071286598983, 2.5332239180358296),
            (0.005247926519141896, 0.06706745005144649, 1.752450327453874),
            (-0.021715761456483684, -0.05316812147197614, 2.904792164371279),
            (-0.039115786281654776, -0.09726429709098686, 1.6765510272894015),
            (-0.03553854038914861, 0.01584454751699778, 1.3598542188362686),
            (-0.07036233068222, -0.0566518082084305, 2.0338658339962725),
            (-0.09108234740292909, -0.04442630678137836, 2.630352752180669),
            (-0.09095006223523461, 0.08584157271345635, 1.91799544882106),
            (0.09728352388142908, 0.008297110992055726, 1.6883091764462377),
            (-0.030609024688884864, -0.06020276747458884, 2.9053837044758),
            (0.014617233265529661, -0.01745542332876278, 1.4708960059939158),
            (-0.011160481788146548, 0.08167998712687694, 2.048296970545631),
            (0.04620588028359979, -0.04249827235449042, 1.4428637367305976),
            (0.016958539749458115, -0.019974473420015196, 2.932859901762785),
            (-0.013838565753119078, -0.009332645198166387, 1.9460182496221252),
            (-0.0021385499208821657, -0.0490870454212524, 1.3740107709512521),
            (-0.018790539401207312, 0.09565068452396483, 2.86824078594839),
            (0.03499567835912032, 0.030638149432179074, 1.3944823716775385),
            (0.002311189114509421, -0.02624643988668683, 1.4668502663500727),
            (0.09872433226409322, 0.06556361418411394, 1.36048997485898),
            (-0.03631980584343801, 0.025325924571108438, 2.0187740733208552),
            (0.051263275427743754, -0.037652471098862765, 2.0415723641994745),
            (-0.08266229356151765, -0.07578058219054487, 1.303363032184405),
            (-0.06869523416544313, 0.012391089355424073, 1.3401570933675484),
            (0.0010675843676046376, -0.0652179591182439, 2.455035480991314),
            (0.08248229348053965, 0.05329074683340512, 1.1680523455540002),
            (0.0012933213436986668, 0.08532271849840431, 2.667680457512197),
            (-0.07680817859489278, 0.048230916682884345, 2.849355724806398),
            (-0.023019380715650767, 0.024062984462190087, 1.1536498833255648),
            (0.06016777516321334, -0.08585975887179598, 1.77211977598821),
            (0.007111096255795868, -0.009198438506399786, 1.5719177640294866),
            (0.032357571295930726, -0.08836651029503895, 1.6563700892907376),
            (0.03356147261988093, -0.02664081059351013, 2.7378059467662323),
            (-0.053287314518318744, -0.09045164043095962, 2.497928713082767),
            (0.017237232313594017, -0.0015141020619189038, 2.2222568568869114),
            (-0.08937969143535654, 0.05529096808283537, 2.8408832714064554),
            (-0.09767774836931327, 0.04799765448167742, 2.7087973912287233),
            (0.060761358108249675, -0.08787287075308135, 2.3374513008398963),
            (0.0777597690720053, -0.014129714749385514, 1.9943145918129928),
            (0.03566100011528722, -0.010908757251485518, 1.2998332594733388),
            (0.005762170763613003, -0.012478878611160107, 1.4674929002743073),
            (-0.06697687229581067, -0.05095163166561452, 2.9624529519949325),
            (-0.03146298862096651, 0.004429021069724565, 1.3568730370016222),
            (-0.027933881357343385, -0.027541086966583403, 1.8789564076104708),
            (-0.011241840247818241, -0.020478528883655533, 2.6446892353888636),
            (-0.011136743219100409, 0.0940839405645951, 2.5645090508144914),
            (0.05853699382241068, 0.004565163520086318, 2.322901310411265),
            (0.09530590882444026, 0.0401171359202461, 1.2869906713040213)],
 'work': [(0.10485542636150624, -0.00931102217737434, 2.530214470743245),
          (0.12583838746465725, -0.01988629045881829, 2.9445641294559577),
          (0.12607204762683638, 0.061781734925183435, 1.3399114462303852),
          (0.08283437842491902, 0.059496559341138455, 2.6220582685411564),
          (0.1362798130022452, -0.06613843771795466, 1.4272395534156883),
          (0.12844095903269703, 0.013367849898012735, 1.139263433291201),
          (0.05794195981085967, -0.06273890797187495, 1.123366675462609),
          (0.09009476474411159, 0.005645704862587975, 2.9172730459788268),
          (0.0564960610511051, 0.06928844292443559, 2.759893239826103),
          (0.14819905136516337, 0.0022904678021168773, 1.9659316379280583),
          (0.08174199553412789, -0.061638407594462465, 1.205843784790229),
          (0.09381568538220561, -0.09195520964883196, 2.5790597991527635),
          (0.1151919980295364, 0.061275353324605875, 1.5489270313791568),
          (0.10323791628478604, 0.012947200045079765, 1.9509441169676356),
          (0.07842958826533233, -0.006100631237552695, 2.7803394226180456),
          (0.08599643274340163, 0.09585593688435465, 1.1185259744816574),
          (0.07581702578977617, 0.055163259776876805, 1.6341862573606898),
          (0.12213581961654449, 0.06307256087797905, 1.0734671965981304),
          (0.0685437868660248, 0.09515078637768917, 2.7584289974011487),
          (0.09636074998140623, 0.089694937308399, 2.2448484503648287),
          (0.05212493933794643, 0.020237709968990325, 2.720630591048784),
          (0.07753829206429558, -0.018394144051144118, 2.7852047190540974),
          (0.11506494294921633, -0.0007566593819609696, 1.2369611312317643),
          (0.1111778274773014, -0.04604645117928794, 2.5621333856339428),
          (0.07935026207749483, -0.058990478799352625, 1.9674515619368929),
          (0.078888730974632, 0.0850256853013803, 1.8009529295836615),
          (0.11819137930612685, -0.04876487834954382, 1.0755696311413405),
          (0.1261466593901544, 0.09332693429557054, 1.1365173679155103),
          (0.10998010092590371, 0.00519954122244301, 2.973231931702739),
          (0.07350486047718105, -0.018921103635482966, 1.2068972299246885),
          (0.09811336826001651, -0.08884362349651463, 1.7113213382006336),
          (0.10126545630348414, 0.06555637996987496, 1.9299944348902254),
          (0.08636930503530735, 0.010131021890879444, 2.640590362065436),
          (0.14905288682290568, 0.027237551080783268, 2.3963501424908555),
          (0.08971077847003307, -0.07189821539247601, 1.1418200547051414),
          (0.07611913458428238, 0.08953162176007878, 1.7036788268972243),
          (0.13509945488399272, 0.02700682914623237, 1.1798612230274625),
          (0.10617833222228384, -0.06532047944597359, 2.5831297806621665),
          (0.13965467807367143, -0.08647720311682737, 2.693352559263766),
          (0.13738634726220536, 0.048994271151225705, 1.7177199682257724),
          (0.11302916856014128, 0.007201406275219341, 1.3699118597413054),
          (0.07087866656922188, 0.04417141643467665, 1.2085720432729994),
          (0.08221221062300843, -0.07062617679884248, 2.3695362541001637),
          (0.10622134683560411, -0.046947054899317324, 2.0656470675273138),
          (0.1216308974130035, 0.07529455931964132, 1.1637789983398785),
          (0.09928757464871356, -0.088715084668639, 1.115781500414763),
          (0.06362437827598896, 0.042368845980438774, 2.7949022648111193),
          (0.05764279229963366, 0.09206023755954137, 2.8441096138391817),
          (0.13676248916215222, -0.026463167729179046, 1.8468537112374361),
          (0.09184660877000372, -0.0657633296554026, 2.8369902900613044),
          (0.06376177700956902, -0.011374410854296205, 2.2167621499625323),
          (0.08613653229299838, -0.022316165437304594, 2.0206343072120623),
          (0.10793657532268472, 0.05718697875504153, 1.9175230749314185),
          (0.1339236666346187, -0.08337091595089435, 2.848193905075603),
          (0.08263183210441036, 0.08242771188987241, 2.2485533974118983),
          (0.1149485376183083, 0.08891867677884077, 2.9437938847723917),
          (0.14230634919095897, -0.09777740724768602, 1.1381046624064266),
          (0.09320426717177366, 0.020602033963204966, 1.3005175718445479),
          (0.0723527823035812, 0.04499447376312091, 2.4652526697412913),
          (0.13949223775669878, -0.028193856937609826, 2.513876671962579),
          (0.07726894780100223, 0.040375241585629024, 2.7464331466443266),
          (0.08937089636642014, -0.0992750995839798, 1.6230567084567378),
          (0.10976972344831193, -0.020053770801376936, 2.4799855954469665),
          (0.09577672167874272, -0.09950533603510406, 1.6111280247958006),
          (0.11662531499201735, -0.01793799905352722, 2.520828241607996),
          (0.05659768784809706, 0.05842325045491065, 2.9601153781846623),
          (0.12585843887947967, 0.023420126779422706, 2.3772887694007196),
          (0.07609029950839276, 0.07827957506227434, 1.698838949580517),
          (0.14348930828115863, 0.07998723820334305, 1.8302746060972166),
          (0.14216244060564875, -0.0854171761113378, 1.6364933184895962),
          (0.12181626234724686, -0.030148033284587886, 2.506955312546503),
          (0.053096066040920153, 0.04382320788416377, 1.7353683279694925),
          (0.10059279621997508, -0.026008212398967293, 1.5347777162054324),
          (0.06642744924570008, 0.09250581539346542, 2.9439511359913775),
          (0.09256568640617688, -0.05571745009156062, 2.380061404457834),
          (0.14574228695549918, 0.010398529036190512, 1.6285465032628557),
          (0.09903866975574366, -0.031979423647924166, 1.0343450825041438),
          (0.14923453476314524, 0.08842282434335089, 1.3088324752453),
          (0.10927537087703147, 0.050622055551643674, 1.8018193169322714),
          (0.05738550160384729, -0.09793118972619637, 2.6454455363985288),
          (0.09428592181974779, 0.09636631776010307, 2.1195622333245305),
          (0.12885177329179312, 0.022675706877370347, 1.9084909682989302),
          (0.06815230680678538, -0.09685431197542776, 2.3911715015460384),
          (0.12895254824138241, -0.024464026323574, 1.8279890038023787),
          (0.09887716218607705, -0.045192895884791966, 2.4448193744325852),
          (0.07316712114036858, 0.05381629536126406, 2.7365710335955247),
          (0.07762938528323322, -0.015760700741378295, 2.637378215257349),
          (0.1260942063815435, -0.08062672379581629, 2.352123952145215),
          (0.07367530637612155, -0.008834664357334113, 2.0741298142214),
          (0.13808903126585642, -0.027476901155508368, 1.7977391100477254),
          (0.08994313019219413, 0.07759038892149336, 2.467980191262458),
          (0.13705340102689612, -0.02818072242681438, 2.445161456422741),
          (0.05670297962164042, -0.08576426035113512, 2.3452758321496194),
          (0.09689921795663572, -0.054333963491168286, 2.637290911945717),
          (0.10228707391413167, 0.07286971860756614, 1.008243434635925),
          (0.11087716244923129, 0.02997857964453504, 1.664819638001992),
          (0.05914612702618965, 0.009105718979862593, 2.368568511676786),
          (0.10706696269549397, 0.027416482274943477, 1.7418791167289684),
          (0.06982113430554544, 0.02528898438621019, 1.8310106230892802),
          (0.14802584320180256, 0.05319477113865678, 1.2523951683118462),
          (0.11570946396404537, -0.06400427084277471, 1.2527263799602917),
          (0.09777289564063427, -0.030323854468607928, 1.834593541815323),
          (0.13124272658602915, -0.002516423904603382, 1.81307435083169),
          (0.07487670144235571, -0.04389110198409332, 2.787307417677833),
          (0.07126209399490932, -0.07192289124756134, 2.72691904907036),
          (0.1458423504860361, 0.018966122483902476, 1.1452163256849708),
          (0.13541486844989542, 0.016223128624915706, 1.4262247510967108),
          (0.13022977723241574, -0.0883909987385765, 1.7918775505984765),
          (0.07903348255565065, -0.035272216577715024, 2.879997058120395),
          (0.11027401180669946, 0.06632142420305795, 2.2581422128943958),
          (0.12778740181924014, 0.07621538249252327, 1.012004997582532),
          (0.1454289554616806, -0.041062986812119597, 1.5411687054712706),
          (0.08830944617609734, -0.09928533575585317, 2.1061336825426444),
          (0.09698260348942256, 0.04731836687764085, 2.208665332870535),
          (0.11532640951102863, -0.0859301789427073, 1.0739162933352988),
          (0.06426032497990904, -0.08020806812469466, 2.410648328614827),
          (0.0559926009748972, 0.008779204784096925, 1.4896322046588637),
          (0.11153386813153963, -0.04448681539431825, 1.747472723194807),
          (0.0951400493388324, -0.03193267434595502, 1.8700385231332357),
          (0.06603066481774955, 0.012219573736007724, 2.194522593071499),
          (0.09544269718388758, 0.07789009574142028, 2.1420031776917376),
          (0.14311024601452363, -0.07865842867935452, 2.1993890783693884),
          (0.05295231611166186, -0.09532494089470496, 1.1432060271939755),
          (0.1232093228597458, -0.0009449404375448528, 1.497482799766735),
          (0.09842487616539292, 0.030279769596023964, 1.0618331179377423),
          (0.13161672806752517, 0.014717909865658504, 2.8252980853035554),
          (0.11680134689302897, -0.0060004422931390355, 1.8835492650046828),
          (0.07454704494811269, 0.015361494821806126, 1.2500743812844795),
          (0.1268271417623868, -0.05731195894697927, 2.0255472736868865),
          (0.09522256456772385, -0.057320570153199225, 1.8031745997167126),
          (0.08371867388240331, -0.0842306695036263, 1.631328779775262),
          (0.07078364111008721, 0.04615418025794085, 2.007151601364988),
          (0.0943431976610099, -0.05082048758939409, 2.8040186646002407),
          (0.11765952483290414, 0.06962927522985393, 2.0948429106218653),
          (0.10882774773107726, 0.05644000717309766, 1.6136056947136652),
          (0.1066978637123871, 0.020168834536057084, 2.395979977312886),
          (0.14107406131413913, 0.037641246890932095, 2.442466330833719),
          (0.10674252065242365, 0.08704212291316249, 1.1497207318964113),
          (0.08632525858482652, 0.09980819982636255, 2.2457212350122204),
          (0.10526939710404436, -0.037980768264341984, 2.258482965727328),
          (0.13084595730923498, -0.050474491690081585, 2.245907703582623),
          (0.07010743259388538, 0.07379583700887857, 2.0903531421704455),
          (0.089163816382656, 0.02103915470391564, 2.213714237179517),
          (0.14374523122161278, 0.05758876974627722, 1.0670447543558839),
          (0.11307685446742301, -0.09462736893189888, 2.1794937298203303),
          (0.09449987150620454, -0.05775217632957866, 1.8283992876911728),
          (0.10491781941425368, -0.016820265315103028, 2.20156925416015),
          (0.1347040887394392, -0.001319294515523775, 2.7390678779896733),
          (0.08182424950024754, 0.05747267632791528, 1.7551307879369573),
          (0.11250304828582387, 0.04740206072367556, 1.3042701489845199),
          (0.08424212488977378, -0.015446761812983462, 2.437690976671843),
          (0.1145389309741629, -0.05108497365478744, 2.622662026766132),
          (0.11115636852165771, -0.028270743797112807, 2.1827942660821273),
          (0.14070848100651667, -0.06929104347812837, 2.6108010377860555),
          (0.11842915589800015, 0.03212497995773356, 2.291654497985873),
          (0.09474460773647102, 0.017439941039392323, 2.3091402555544844),
          (0.12208351428766318, 0.05142997594500448, 1.4145240001065593),
          (0.08000085067526239, -0.02554909437433983, 1.5208597017409333),
          (0.12710054369795726, -0.033714737214643825, 1.013718781374915),
          (0.11163480563218417, -0.056301664298560455, 2.2796586885058345),
          (0.12373623734182702, 0.05086498230472242, 1.9424786969515588),
          (0.14974736559186516, 0.05371292402828018, 2.586840070334609),
          (0.1204374140687726, -0.04357935843257652, 2.4308146169084868),
          (0.12912372374989917, 0.03058002767859952, 1.5868598351126475),
          (0.1333397594033627, 0.017561016923817688, 2.1433913812160155),
          (0.12461920147243045, -0.02807883852621576, 1.576148171513644),
          (0.08673688940680656, -0.029095632587908357, 1.744680993440206),
          (0.05762645870119357, -0.04335553157325692, 2.864406012247782),
          (0.07543523524750566, 0.03289583951600142, 1.952365395522515),
          (0.07160858097499284, 0.024488263159821028, 1.4090301984604818),
          (0.0981362411678186, 0.0821675055312431, 1.6511296227821624),
          (0.09924500091052418, -0.09485406504708932, 2.514390113376267),
          (0.052665212457289834, 0.054321879316409444, 2.091133544961618),
          (0.05308123391080865, 0.055426624947541775, 1.1186599024839006),
          (0.09188033282093294, 0.010575754648900954, 1.1434729924056524),
          (0.08088035416903173, -0.0011387547535365306, 2.8264986304325084),
          (0.10342983395708186, -0.08679662853943995, 1.0531294380103566),
          (0.07687012352238451, -0.022014992473539732, 2.6216175634715615),
          (0.11272499071327836, -0.07957339375939597, 1.1497900124731586),
          (0.1476770123059057, 0.06500103396828524, 2.002299322110126),
          (0.060576827935454304, -0.08034178264644212, 1.9049596267601165),
          (0.1091206325840216, -0.09226851664897505, 1.485377901040841),
          (0.06905187820458472, -0.09185880375013378, 1.8848936814517732),
          (0.08278773282582957, 0.000923939738807375, 2.287159473128341),
          (0.09238176258095146, 0.026541185783600263, 2.7991199075558253),
          (0.05812771596209851, -0.004536421375204797, 2.4987685269306192),
          (0.06488657599660322, -0.0024665340230465987, 1.4665981979970484),
          (0.0582971726257287, 0.04274386712922479, 2.9721707392707084),
          (0.0989029421136918, 0.010716187248247161, 2.810234864908587),
          (0.09695536839517907, 0.021607874534528546, 1.2082185156098582),
          (0.07202548474244662, 0.06399491728946882, 1.1665676261896543),
          (0.1475452834425443, -0.0361531233529223, 2.8264374459743995),
          (0.14721499282293832, 0.06765188492756466, 2.826138759298719),
          (0.08469996142201631, -0.018469473884927326, 2.136139314958008),
          (0.07370185318299852, -0.024667909289461873, 1.4237620610979451),
          (0.11506836841324856, 0.028917864879942246, 1.5399833431926155),
          (0.13195221697418347, -0.021371808882092336, 2.630186157938966),
          (0.08159262788455104, -0.04863102366450998, 1.9828525527469725),
          (0.06191112503831369, 0.05549089898466161, 2.856419916692595),
          (0.08518452843700183, 0.008358214111586437, 2.1557085779257026),
          (0.07001157111879645, 0.04720216446276029, 1.5992811626562453),
          (0.09109222939189328, 0.0991849995882576, 2.21791030935),
          (0.1462938887412572, -0.07550585146431742, 2.835639481861775),
          (0.05108997587675532, -0.08875341627660623, 2.6143687256784043),
          (0.12975933687876928, 0.07437956803344051, 1.6422418199039628),
          (0.07014609359669265, 0.0530424587493655, 1.2201235144983709),
          (0.13380863211407634, -0.08215603921235795, 1.592756854449786),
          (0.0809651095714735, -0.08711354998815826, 2.99007267174337),
          (0.14618245851996037, -0.061396278352037315, 1.1227699627718242),
          (0.09226550240991682, 0.05848188047974143, 1.1707021302017462),
          (0.10747435951180351, -0.02359955298799024, 2.224236541564121),
          (0.12273919650212714, 0.08191093732326479, 1.7153060301032377),
          (0.11714617468199459, -0.08022083952290136, 1.0907041782498965),
          (0.08778958085289873, 0.06417373702919235, 2.1702828927821494),
          (0.06161445452610209, -0.08364725439096594, 1.4708348873293164),
          (0.07704468241963391, -0.025232562919422774, 2.011946826404854),
          (0.12256202441007247, 0.06965454985853375, 1.3679323262290564),
          (0.060446030296231204, -0.0753579328018496, 2.849193087809658),
          (0.09104645336436021, -0.06004843980293715, 1.5987163428681672),
          (0.11968757432611783, 0.027075852526516703, 2.574883591265525),
          (0.1480351031478153, -0.016768437080793563, 2.0033736252488183),
          (0.13210770882357536, 0.05199415690733869, 1.2017507836017696),
          (0.08928866928703386, -0.03240769415711646, 1.45571737306959),
          (0.12128954748730192, -0.0651814599824074, 2.8292459856105854),
          (0.11066936349845344, 0.06830710582428057, 2.8836999814677746),
          (0.10755667414282741, -0.013372015829712564, 2.1393852701234586),
          (0.08294360124413172, -0.09607429274146868, 2.0885656551100347),
          (0.07437725085627485, 0.09702271674126772, 2.914958145281987),
          (0.11422355886141798, 0.00041723172173016576, 2.061835039503965),
          (0.09530411792425761, -0.036223662334487525, 2.267929491719838),
          (0.10939627968256349, -0.09545685107199833, 2.0549200880032052),
          (0.07064136169621767, -0.040102756622522565, 1.466252239338407),
          (0.07721496188315306, 0.07947902828547307, 2.0535355959734836),
          (0.12297578957274187, 0.03083888304955698, 2.2978174932126065),
          (0.13964702093349235, -0.06533931377684507, 2.794469978490654),
          (0.14422946792215108, 0.003848366860514818, 1.4197769648506668),
          (0.1077023443881958, -0.0717519624608015, 1.4194808178982516),
          (0.06085605660293959, 0.07727706032566684, 1.589702063899754),
          (0.1364142696154904, 0.025591377352876282, 1.2436514125903473),
          (0.11935164150100364, -0.07318268619910238, 1.1541547056795982),
          (0.08261177257068061, -0.02690452655732499, 1.1663371637716204),
          (0.11625302075482397, -0.09341035416484145, 1.5197770847514693),
          (0.05482238557254157, -0.0004976381339971692, 1.9290469576339637),
          (0.14673208253952208, 0.06610427110774736, 1.856531590886124),
          (0.07202572116372936, 0.04855588090955845, 1.3206145285599256),
          (0.05912559805567596, -0.07111517265601724, 2.9216058540926895),
          (0.09928821935896753, 0.012348140442480754, 1.3530608925593095),
          (0.08214817692024906, -0.03359836533511258, 1.1740679951354953),
          (0.14095039394896802, -0.04093433485835483, 2.1877574331959417),
          (0.11677538686597301, -0.022927177694588116, 2.314083237235832),
          (0.09399768339775676, -0.01566333923146941, 1.4936125558655216),
          (0.05311852789940811, -0.04650536025894134, 1.1171181998824717),
          (0.12660312910063054, 0.07056931968580415, 1.1384737704797168),
          (0.12146817410196736, 0.07744218593296698, 2.555047211881277),
          (0.12023174957464065, 0.02285596603081741, 1.567607758788238),
          (0.12454110638462303, -0.035296399048911895, 2.0297617752367)]}

main()

# Comment to update:737