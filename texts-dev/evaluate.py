#!/usr/bin/env python3
# An evaluate generic fake script
import os, sys, json, math, hashlib
import random

VERSION = 1


params_values = {}


def get_param_value(name, default=None):
    return next((v for k, v in params_values.items() if k.endswith("." + name)), default)

def set_random_seed():
    random.seed(get_param_value("seed", 1234))

assert len(sys.argv) == 3, "Expected argv: evaluate.py model test.data"


def phi(x):
    'Cumulative distribution function for the standard normal distribution'
    return (1.0 + math.erf(x / math.sqrt(2.0))) / 2.0

def hash_str(s):
    return hashlib.md5(s.encode()).digest()[0]

FINALIZE = {"0-1": phi, "1-0": lambda x: 1 - phi(x), "id": lambda x: x, "0-": math.exp,
            "intexp": lambda x: int(1000 * 10 ** x), "int": lambda x: int(100 * x)}


def evaluate_metric(name, typ, data):
    val = 0

    for p, v in data["params"].items():
        v = math.copysign(math.log(abs(v) + 1, 100), v)
        factor, noise, noise_period = COEFS["params"][hash_str(f"{name}:{p}")]
        val += factor * v + noise * math.cos(v / noise_period * math.pi * 2)

    for i, w in enumerate(data["work"]):
        w *= 0.33
        factor, noise, noise_period = COEFS["work"][hash_str(f"{name}:{i}")]
        val += factor * w + noise * math.sin(w / noise_period * math.pi * 2)

    return FINALIZE[typ](val)


def update_json(filename, update):
    try:
        with open(filename) as fd:
            value = json.load(fd)
    except (FileNotFoundError, json.JSONDecodeError):
        value = {}

    value.update(update)
    with open(filename, "w") as fd:
        json.dump(value, fd)


def dict_set(coll, keys, value):
    for i, key in enumerate(keys):
        if i == len(keys) - 1:
            coll[key] = value
        elif key not in coll:
            coll[key] = {}
        coll = coll[key]


def main():
    with open(sys.argv[1]) as model:
        data = json.load(model)
        data_size = os.stat(sys.argv[2]).st_size
        data["work"].append(math.log(data_size + 1))

        for filename, metrics in METRICS.items():
            update = {}
            for name, typ in metrics.items():
                dict_set(update, name.split("."), evaluate_metric(name, typ, data))
            update_json(filename, update)


# This coefficients define how params and "work" (data amount + code version) change metric values.
# To be both stable and not preconfigured for particular param/metric names we use feature hashing.
# These take some space so we place it as low as possible in out code.
METRICS = {'metrics.json': {'branch.accuracy': '0-1',
                  'branch.distinct': 'int',
                  'branch.entropy': 'id',
                  'branch.errors': 'int',
                  'branch.exp_cost': 'intexp',
                  'branch.f1-score': '0-1',
                  'branch.falsepos': '1-0',
                  'branch.fullscore': '0-1',
                  'branch.index': '0-',
                  'branch.loss': '1-0',
                  'branch.meanscore': '0-1',
                  'branch.n_docs': 'intexp',
                  'branch.precision': '0-1',
                  'branch.prediction_time': '0-',
                  'branch.recall': '0-1',
                  'branch.time': '0-',
                  'brand.accuracy': '0-1',
                  'brand.auc': '0-1',
                  'brand.avg_time': '0-',
                  'brand.benchmark': 'id',
                  'brand.distinct': 'int',
                  'brand.entropy': 'id',
                  'brand.exp_cost': 'intexp',
                  'brand.f1-score': '0-1',
                  'brand.falsepos': '1-0',
                  'brand.fullscore': '0-1',
                  'brand.index': '0-',
                  'brand.loss': '1-0',
                  'brand.meanscore': '0-1',
                  'brand.n_docs': 'intexp',
                  'brand.non_null': '1-0',
                  'brand.prediction_time': '0-',
                  'brand.recall': '0-1',
                  'brand.size': 'intexp',
                  'brand.time': '0-',
                  'brand.weighted_avg': 'id',
                  'classifier.accuracy': '0-1',
                  'classifier.avg_time': '0-',
                  'classifier.benchmark': 'id',
                  'classifier.distinct': 'int',
                  'classifier.entropy': 'id',
                  'classifier.errors': 'int',
                  'classifier.exp_cost': 'intexp',
                  'classifier.f1-score': '0-1',
                  'classifier.falsepos': '1-0',
                  'classifier.fullscore': '0-1',
                  'classifier.index': '0-',
                  'classifier.loss': '1-0',
                  'classifier.meanscore': '0-1',
                  'classifier.n_docs': 'intexp',
                  'classifier.prediction_time': '0-',
                  'classifier.size': 'intexp',
                  'classifier.time': '0-',
                  'classifier.weighted_avg': 'id',
                  'model.accuracy': '0-1',
                  'model.auc': '0-1',
                  'model.benchmark': 'id',
                  'model.distinct': 'int',
                  'model.entropy': 'id',
                  'model.errors': 'int',
                  'model.f1-score': '0-1',
                  'model.fullscore': '0-1',
                  'model.index': '0-',
                  'model.loss': '1-0',
                  'model.meanscore': '0-1',
                  'model.n_docs': 'intexp',
                  'model.prediction_time': '0-',
                  'model.size': 'intexp',
                  'model.time': '0-',
                  'model.weighted_avg': 'id',
                  'train.accuracy': '0-1',
                  'train.avg_time': '0-',
                  'train.benchmark': 'id',
                  'train.distinct': 'int',
                  'train.entropy': 'id',
                  'train.errors': 'int',
                  'train.exp_cost': 'intexp',
                  'train.f1-score': '0-1',
                  'train.falsepos': '1-0',
                  'train.fullscore': '0-1',
                  'train.index': '0-',
                  'train.loss': '1-0',
                  'train.meanscore': '0-1',
                  'train.n_docs': 'intexp',
                  'train.non_null': '1-0',
                  'train.precision': '0-1',
                  'train.prediction_time': '0-',
                  'train.recall': '0-1',
                  'train.size': 'intexp',
                  'train.weighted_avg': 'id',
                  'train_full.accuracy': '0-1',
                  'train_full.auc': '0-1',
                  'train_full.avg_time': '0-',
                  'train_full.benchmark': 'id',
                  'train_full.distinct': 'int',
                  'train_full.entropy': 'id',
                  'train_full.exp_cost': 'intexp',
                  'train_full.f1-score': '0-1',
                  'train_full.falsepos': '1-0',
                  'train_full.fullscore': '0-1',
                  'train_full.index': '0-',
                  'train_full.meanscore': '0-1',
                  'train_full.n_docs': 'intexp',
                  'train_full.non_null': '1-0',
                  'train_full.precision': '0-1',
                  'train_full.prediction_time': '0-',
                  'train_full.size': 'intexp',
                  'train_full.time': '0-',
                  'train_full.weighted_avg': 'id'}}
COEFS = {'params': [(-0.05115459986060045, -0.09997198913569552, 2.683356200300447),
            (0.08345355699496701, -0.03267763000279607, 2.1308650137336933),
            (0.003423218139702394, -0.04217392074918039, 1.6136907393368598),
            (-0.046509816773605245, -0.00217217313925519, 1.4634801781122528),
            (0.019367373877225896, 0.0856743536222305, 1.931531706299976),
            (-0.06706889365107463, -0.007560554433508601, 1.0189482975246658),
            (0.027320499547542065, 0.0570836363414334, 1.2857324829624739),
            (0.08005866864121777, -0.017017257922824755, 2.6039367639252737),
            (0.07131390120251047, -0.01405354317548986, 2.1089793059929294),
            (-0.08929871337756681, -0.0645367351985579, 1.3309280049664403),
            (-0.09804259765982702, 0.05522481516857666, 1.7507583535288591),
            (0.09974291539790159, 0.029190917947315792, 2.7455947036987545),
            (0.06338356322951277, -0.09139112994626367, 2.759126579410874),
            (-0.09706927776868349, 0.060768935723739176, 1.4582047864014624),
            (-0.07193679724602145, -0.020762964180576368, 2.6015258434071904),
            (-0.09943480078365717, 0.06145171624474427, 1.0804937339653178),
            (0.05458887287242037, 0.07575605181259629, 1.8354595107050806),
            (-0.06365504680342376, 0.08808396494549864, 2.418258500456843),
            (-0.04803895964106093, -0.03040676392371315, 2.5655803765456735),
            (0.04194076725236587, 0.045952998859378924, 1.1185620734900896),
            (0.0947308697077365, 0.09161000170406361, 1.009867206300773),
            (0.05547468155351826, 0.019037331414234845, 1.4998537057496695),
            (0.04300584163344029, 0.08485806541748606, 1.9114223736577893),
            (0.08204389900699868, -0.04446349045639628, 1.6680586602454643),
            (-0.011900837743866147, 0.06528179682376797, 2.360195091718863),
            (-0.041219967995805455, -0.03833115731280765, 1.3524507663785417),
            (-0.0909699161058265, 0.03673527009934913, 1.6385778037062018),
            (-0.05561944842669047, 0.09803623284744711, 2.6742574236672336),
            (-0.019929262740007017, 0.03253341032179263, 1.9839344849115212),
            (0.07291799587046796, 0.0022478500590834283, 2.320160775785344),
            (0.06620448351775693, -0.014235998061132876, 2.4106412576923457),
            (0.05491544697988396, -0.06937014712637767, 1.7724286363659696),
            (0.09207574254633391, 0.0004957219746386521, 1.4814469696763426),
            (0.03607438369635588, 0.05382746869941593, 1.1111109209588006),
            (-0.09492306404196704, 0.07528620769058966, 2.564280355834539),
            (-0.03703161987494634, 0.07493653666104644, 2.631441195355082),
            (0.0814524165550009, -0.008356997721169004, 1.5808717815331452),
            (-0.015676999166409453, 0.08792345499376972, 2.3467548236772284),
            (-0.09019768830048938, -0.05442607367044958, 2.8848643558555596),
            (-0.08732073071838764, 0.08960124026526606, 2.106615981769313),
            (0.09400364969448, -0.03225004980235349, 1.2342385828978701),
            (-0.06382961409498766, 0.06738004956846308, 2.4382647134849433),
            (0.03653313992183424, -0.006657946421546684, 1.1278987986906857),
            (0.07987187247100422, -0.07095895825497651, 2.3504877216588325),
            (0.038257711269345684, 0.009129057667730048, 2.9254320684332003),
            (0.04522344300065559, -0.0038024824590960626, 2.27826605847344),
            (-0.0721260020807199, 0.03213188801051492, 2.0664594114114396),
            (-0.01643747623929573, 0.03943489215834445, 1.8009003127229473),
            (0.02698244628328464, 0.0417955692774277, 1.1864380327463744),
            (0.07813610151000497, 0.09715168602990706, 1.184857835441005),
            (-0.07817371483721298, -0.03405094462363825, 1.761674756963184),
            (-0.003842712821976707, 0.06247673067735024, 2.983260202289495),
            (0.012618371825845201, 0.028785070476703256, 1.718763752370281),
            (0.08219853274390104, -0.027091071550624984, 1.3202432039553855),
            (0.04080581198746619, -0.027750451941305168, 1.5154635024871888),
            (0.051315267187485664, 0.001048927986916609, 2.672782843140123),
            (-0.037268698616451795, -0.09447630045059607, 2.3197446131192354),
            (-0.03163813876589937, 0.045209050819194074, 1.7309146724439772),
            (-0.06665005912592079, -0.003881341154805512, 2.2822433814501215),
            (-0.048382722295516614, -0.07349381877932776, 2.8470375044259146),
            (0.07875661415959662, 0.01886472793656617, 1.7752372169478776),
            (0.09702851526607459, -0.03631142440069722, 1.3643083185065132),
            (0.05996212771212561, 0.034516043965309856, 1.528800865808813),
            (0.08020364461871826, 0.007942510356975505, 1.5303829521990346),
            (0.047563654472968925, 0.04821523355222618, 1.8663634142858612),
            (0.026685778373273544, -0.004682923273916034, 2.703757884958645),
            (-0.0876459450211258, 0.053534209010583506, 1.9117215836045385),
            (0.016260452820625007, 0.09812283797881677, 2.0447002295487966),
            (0.02850151016970645, 0.0020356755155406248, 2.3643000223174777),
            (-0.05439129916042747, 0.011275846181819468, 1.6192335544933696),
            (0.08989693458281373, -0.056728602448333644, 1.1341498917433013),
            (0.09112777804274488, -0.002899445035724507, 2.919473477945127),
            (-0.008275229591939687, -0.09738085980360925, 1.8164685695489098),
            (0.07007529293947376, 0.05376003344050498, 1.1840807420370403),
            (0.009421941321020075, -0.0697814810561567, 2.0177168966383956),
            (0.03722975505232534, 0.02532751916240189, 2.4136887648969774),
            (-0.026733712035750326, -0.052629482488229185, 2.3455584408831163),
            (-0.03597878002728315, 0.03833071819542433, 2.0865617574982225),
            (0.0023999317525982, 0.010255361179346487, 1.4590682970062465),
            (-0.037116793803204234, 0.06670743409949254, 2.378933898030662),
            (0.0030993822677165828, 0.09649689870516828, 2.296199762021216),
            (-0.08483188489383094, 0.0796808644598713, 1.721122918144642),
            (0.03210996461401133, -0.06294445383602423, 1.0335942364968396),
            (-0.0293822657342276, 0.04396636857833497, 1.5830561425146852),
            (-0.09055380451296374, 0.08362720528414541, 2.875450710690976),
            (0.08302561210421025, 0.03013308726383715, 1.9705740063274746),
            (0.06935072471447334, 0.07349703487950959, 1.6601177566906156),
            (0.09873915610259906, -0.017524255781890166, 1.618234990659611),
            (0.003821293452920399, 0.07173290434681609, 1.8710081694941452),
            (-0.0539673586017152, -0.04748359040351342, 1.7242894739545473),
            (-0.052670054171170724, 0.04305112244661488, 2.4709757432967256),
            (-0.08494530323909028, -0.01720106643854029, 2.970611847740236),
            (0.014924546335061933, 0.0865419839482865, 2.075835538883867),
            (-0.0006723984677475398, -0.00409762953717796, 1.6306864038663915),
            (-0.012533812401615399, -0.04619202719411624, 1.8089440922266027),
            (0.0613122912418996, -0.052348336267921104, 1.7279316133366023),
            (0.04140959116338119, -0.08489208458893072, 1.1801988971350825),
            (-0.07118545213992876, 0.08354698099665003, 2.673212472109424),
            (-0.0010400252239697594, 0.02487765488750357, 2.9644741425170418),
            (0.09108140334380366, 0.07717112666681125, 1.4930287856922597),
            (-0.09252272419768044, 0.06414840692178372, 2.7098855128857027),
            (-0.02109603040297399, 0.04364722665688514, 1.1728215507929),
            (-0.06780247621881488, 0.011211788720388971, 2.0318819886878323),
            (0.004648995556162855, -0.06398923120578999, 1.349378306919547),
            (-0.07576413452648267, -0.005787382471444502, 2.035209109216664),
            (0.048559733275302, -0.09419944837506705, 1.1548360824312565),
            (-0.013897083997189502, -0.06999194587662855, 1.5514487268294328),
            (0.027972251250199504, -0.024534276132434085, 2.3671771785534985),
            (-0.042573293330815234, 0.07073184027136123, 2.168738723277738),
            (0.06312370979619611, -0.04480351184364417, 2.0021174177240404),
            (-0.035705432473204374, -0.005939262728435549, 1.634355518789464),
            (-0.06419317695993274, 0.014280011593641756, 2.0321307350206457),
            (0.05410165725332444, -0.07121186240943628, 2.0266023555817068),
            (0.0010571740779929256, 0.01679473536404308, 2.7618301145745354),
            (-0.051877839560219345, -0.008381850671542554, 1.6127953821203767),
            (-0.05614210174521013, 0.06324951833300194, 2.4421836245907436),
            (0.06244236375325515, 0.01190558284632634, 2.0413745543104573),
            (0.045627751443112013, -0.09873723187633499, 2.48231241570132),
            (-0.06845343352687758, 0.08305744713320129, 2.773607258932283),
            (0.059999518199194773, -0.0577020126313939, 1.219021966315169),
            (0.016147868279551142, 0.07613523330225863, 1.1457250496661833),
            (-0.02038758815973421, -0.08460941980814259, 2.0644225667909564),
            (-0.010854730218664413, 0.06944957498991583, 2.5556160852065677),
            (0.003406890563429868, 0.05321343899251649, 1.1273828485382658),
            (0.003916232326792196, 0.004838338291075356, 2.345861758750697),
            (-0.05178364528892254, 0.08730646828524621, 2.373044786005515),
            (0.0381453623836529, -0.08057617872708218, 2.450722584381168),
            (0.04117798558051661, -0.07352477016794419, 1.6214531612150285),
            (0.07947873291573201, 0.03108232292066529, 2.1825255138641095),
            (0.09540791802334497, 0.0804105070491791, 1.7669894528584693),
            (-0.00529148977597263, 0.09942433300403958, 1.2222116590999663),
            (0.05742399265052289, 0.031609255396426006, 1.7975001850746817),
            (-0.09922755188494028, -0.08159276799565132, 1.835755662851944),
            (-0.07658202926191567, 0.06549165777607399, 2.91147568059558),
            (-0.004660714676039318, 0.0655784799635846, 1.8176607574845849),
            (-0.06655106938854613, -0.03973414101138162, 1.3381618365600052),
            (-0.059126722528433054, 0.06423344430516223, 2.675668382709464),
            (-0.07115262803739852, 0.005649689465347094, 1.7089953774057818),
            (-0.04063513012397129, 0.06516791351872547, 1.25039814795874),
            (0.057030251659043296, 0.028776929444635918, 2.8696555854930965),
            (0.08674480436378473, 0.08205867459575744, 2.717484803853597),
            (-0.009276141172041633, -0.08801156482184608, 1.9901668684127096),
            (0.04176943834251384, 0.015030131654747023, 1.4997212026244933),
            (0.0037243571283223365, -0.042270079657970805, 2.4820487908809787),
            (0.03780719284963746, 0.03439894056209064, 2.385934405402869),
            (0.055565255819084725, 0.0009323963841294525, 2.1084961594590848),
            (-0.04197490177652681, -0.0385538258186309, 2.835065420157194),
            (-0.05798624430921824, -0.04412895669069597, 2.771149753561163),
            (-0.053885995733790965, 0.0998050881167846, 2.366879271479987),
            (-0.029449863171605833, -0.0832556174569334, 2.167444738273396),
            (-0.05465460727291325, -0.04758124203544716, 1.0193169444300205),
            (0.07871479306067097, 0.004292782252923663, 1.9949397779118447),
            (-0.05868399376872638, 0.07423366819430866, 2.3254606980686874),
            (-0.04261229240277429, -0.09540047285256899, 2.9879463096062047),
            (-0.06912022059036607, 0.02219223933745247, 1.488394390008413),
            (-0.06137709483875112, 0.04160429890231182, 1.249392832933127),
            (0.059695875234932555, 0.008991428978805269, 1.0381636544402162),
            (-0.025982578918363197, 0.007137258348890563, 1.3997082766618598),
            (-0.0627772694372119, 0.025228591182574867, 1.7838789963984518),
            (0.013352415292642902, 0.05361434052770114, 2.2259230535378496),
            (-0.07070090831902585, -0.04898481679435454, 1.0037349733566867),
            (-0.06946209402295028, -0.03218354508524472, 2.876461256575984),
            (0.0068137576452518556, -0.06236454651808208, 1.1945149346822355),
            (0.07121022557789597, 0.029211388336695343, 2.606841550275752),
            (0.00560544673469196, -0.08818915883631098, 1.3160448005121634),
            (-0.09898268950628691, 0.047950951876763376, 2.65930630483223),
            (-0.08829526620601827, -0.012969351595812209, 1.8519703698662122),
            (-0.011222582715649285, -0.06541970730664876, 2.111916951475293),
            (0.05176009522370839, 0.03502664262810057, 2.3938897892624484),
            (-0.06289340048448618, 0.04126881177531963, 2.50786349930837),
            (-0.050303038545075895, 0.05990201982115442, 2.7563747997618755),
            (-0.010364977742083309, -0.023924209236179952, 1.2162205578860423),
            (0.021150318289603703, -0.005424398363879354, 1.8247975432958743),
            (0.03510916957839108, 0.06850071651644352, 1.708291535698285),
            (-0.005196297044550338, -0.051429549779311516, 2.689030783298597),
            (-0.017502318634823127, -0.03477165885889366, 2.3672698668413856),
            (-0.06403845178326106, -0.07235958621525251, 2.7236541884839944),
            (0.0798102096211355, -0.021459668304258495, 2.7852598141894123),
            (-0.043259757620987375, 0.0488548698570655, 2.009693390915187),
            (0.0438849800847452, -0.07474453123539748, 2.004400196577558),
            (-0.0005222054390031372, 0.0450980378543106, 2.566697531300411),
            (-0.020217876256636763, 0.041550628985946275, 2.4541745246030167),
            (0.024169662343720158, 0.053919717855713006, 1.949457775318216),
            (-0.09248016619851154, -0.026419936144219586, 2.7998278127327034),
            (0.05015293517868147, 0.06073092456109139, 1.8206287012678009),
            (-0.04378211311527896, -0.0714829828622644, 1.25482753888305),
            (0.0029641963875836896, -0.0657183541632807, 2.5508340211478986),
            (-0.0910291362264718, -0.08236153864283108, 2.5756889360254895),
            (0.043434408758734555, 0.028742270885883547, 2.3362523753889897),
            (0.018208856533947465, 0.07263938124550559, 2.63794648475341),
            (0.06625669942298643, 3.104975301512769e-05, 2.164280762643293),
            (-0.0988489319730892, -0.05049421069737561, 2.0802988821227437),
            (0.034218347315215836, -0.004760855689124904, 2.421018396080268),
            (0.08383887483334562, 0.031814017704884845, 2.352481566053796),
            (-0.035155465103484024, -0.03752883277612162, 2.1811971373956887),
            (-0.0237249905635023, 0.09183756658688766, 1.7423161659185897),
            (0.06334882003939529, -0.0610340231284124, 2.371165723062467),
            (0.06079271870718167, -0.041363065681630444, 2.8957553291908917),
            (-0.027623091668977987, 0.05570650952796069, 1.3261616673623886),
            (-0.07384471512502427, -0.07394841644870516, 1.7393612488077326),
            (0.07777318349650728, -0.05917469929353086, 2.6432424476884586),
            (-0.06759386393742811, -0.01542276704564742, 2.3262697951154365),
            (-0.022789085861485675, 0.027288182865351257, 1.0474753281326799),
            (-0.03041480251047804, -0.02621463489949885, 1.5540101918427096),
            (-0.01941477115899759, -0.027757302114670646, 1.5657420488074452),
            (0.03625302622811269, -0.010692863236349798, 2.740828790194315),
            (-0.039032390376237604, -0.04076890701467833, 2.0221237990953727),
            (0.08781233179399023, -0.08667204023406035, 1.9804381242960012),
            (0.015868596237009466, 0.0945302669899721, 1.6422673593845867),
            (-0.019083673204363966, 0.08069215523006934, 2.5744735050092906),
            (-0.031203542224570988, 0.07267424308442705, 2.8494975746817257),
            (-0.032225217536909656, -0.021659275504891107, 2.7859917436276493),
            (0.07542317055437603, -0.08790765756040314, 1.1914858099228682),
            (-0.09163283937434047, -0.018722104526296898, 2.8480853381635143),
            (0.044016866697669216, 0.0949639707536426, 1.359420571583302),
            (-0.05751309772577953, 0.02273862979140398, 2.5435828697201766),
            (-0.016933055273604364, 0.004109491634529852, 2.9289157308010525),
            (-0.05646167077598801, -0.06077367740283686, 2.485475358682929),
            (0.04446880673272072, -0.09292867524766182, 1.4397347464452894),
            (0.054789924963399905, -0.0068280896684078385, 1.2775104115995335),
            (0.040597462554014224, -0.04379528388886376, 2.0077835795500025),
            (-0.09001373027921228, -0.04965951998592129, 1.05079783964633),
            (0.01198578490607441, -0.012556613918612916, 2.231426483102206),
            (0.004224244792812984, 0.01354276015757501, 1.1935297154302233),
            (-0.059423844370834616, 0.023251902790071652, 1.5846383796083314),
            (0.018224863188177398, 0.08787918176767104, 1.2073648871734148),
            (0.03895628853415972, -0.014915271577757919, 2.0155592993905316),
            (0.02174397771145102, -0.042590391746557876, 1.313832563224255),
            (0.06091412041540681, 0.04669942691853049, 1.0739506531172738),
            (0.06892015454198794, 0.09599860235631794, 2.4727133014396694),
            (-0.048708036223354116, 0.06860074118285489, 2.79486206809651),
            (0.021654194042497882, -0.07180288885613993, 1.450951667979013),
            (0.04008844156276886, 0.06708252947959015, 1.8068329146654667),
            (0.0006641245796224771, 0.0999131426819986, 2.4971983780973197),
            (-0.039048501047251244, -0.0014271182922246106, 1.3524350511648624),
            (-0.0038602264195318065, 0.04332461895002321, 2.0396161974930136),
            (-0.036457732823683545, -0.039890180834487456, 1.3243562254962453),
            (-0.0444063679486491, -0.03815828638195473, 1.4812459574713996),
            (0.053968405380565604, 0.08444235165743405, 1.9000057682797309),
            (-0.005433889960913027, -0.07794070757681507, 2.9867341667529943),
            (0.021376871562041072, 0.02435325937912465, 1.3845058952527904),
            (-0.037885319895253816, 0.025144966758607668, 1.573090478622752),
            (0.07070289939751431, 0.036330840902681516, 2.542013921815564),
            (0.053612332995885, 0.06800310928131079, 1.9335668344078067),
            (0.08092998742380794, 0.07914196730620346, 2.573389575866672),
            (-0.06158387653122588, 0.0422568393132961, 1.035572737976931),
            (-0.01603471112366947, -0.01281032838277292, 2.5389511031142584),
            (0.04621887925148907, -0.037221589808205335, 2.647188284073269),
            (-0.04678919801537327, 0.0682661804983464, 2.361567587887847),
            (-0.021950129036893, 0.07511794732036056, 1.4090195478303753),
            (0.023139710368272934, 0.03307135656566895, 1.9088069382175326),
            (0.026193230206094903, -0.07510941974998352, 2.1798401152653444),
            (0.08433610367589822, 0.06680918557492929, 1.1685386003300477),
            (-0.0007328535156140709, 0.07075109013260192, 1.346270355167357),
            (-0.07417274189064647, 0.003795096814020016, 1.359341863151479),
            (-0.0019740457180509735,
             -0.014496861985634685,
             2.7978346934823026)],
 'work': [(0.13793114974636592, -0.08952567412539499, 1.8851985199002106),
          (0.07477306776270935, -0.04204558434099599, 1.8516877388958008),
          (0.05578651998804608, -0.06750811484867288, 1.112266202835757),
          (0.14584239514464414, -0.06512703604244266, 2.821722965620337),
          (0.07385199915337623, 0.07840712602122021, 2.73036043796239),
          (0.08999103285482547, -0.014487197386811257, 1.4649481518097425),
          (0.12345797139702343, 0.0897562428381515, 1.5991972393621305),
          (0.13422679309380528, 0.017124461115542486, 2.1823255088428395),
          (0.12804544972345538, -0.09462538686022126, 1.0632150492805321),
          (0.12142216587849032, 0.054112477615053084, 2.5506729758991744),
          (0.05829364943257939, -0.08577380581515473, 2.9925748185480785),
          (0.0899713752044107, 0.07920304180192012, 1.0698361434980805),
          (0.07069895882725763, 0.0723999365183253, 2.5025807034140177),
          (0.08710691847024661, -0.05583029145737879, 2.338749463805736),
          (0.13231655007524912, 0.024730012576603094, 2.2566877867720256),
          (0.08186001195009651, 0.051634821157394095, 1.5846476520054387),
          (0.14549708299677377, 0.08899753580273023, 2.0514757500981053),
          (0.11464885112661129, 0.038799679037779616, 1.5979914207723978),
          (0.13713706359390493, 0.00034972940899795357, 1.0959253650714496),
          (0.14663940565332567, -0.024945620245868397, 2.818678119017144),
          (0.13828943832698512, -0.016158437322462693, 1.6802082694911407),
          (0.13595481720462022, 0.03128278877113738, 2.296128236450895),
          (0.13841143332262368, -0.07868191045278708, 2.0919401496727708),
          (0.11473121082606048, -0.01212685141554301, 2.8519925316915806),
          (0.054051062288569734, -0.06160228826291099, 2.8254621244188263),
          (0.08003419066196975, -0.060517903659770056, 1.5026270248501004),
          (0.11440304118850084, 0.08489856715361818, 2.925409971916921),
          (0.05405578796799387, -0.04709375842958468, 2.202999247459217),
          (0.1138167290338395, -0.06300566229295002, 2.9375027202615067),
          (0.14312767380495606, -0.03974089142903117, 2.2443039154160562),
          (0.10643951983220477, 0.07396001541888816, 1.4547813051849814),
          (0.071554995383358, 0.059041784305610884, 1.6054146225417465),
          (0.08777943914832628, 0.03877588892391609, 2.068237197557651),
          (0.13981734185204792, 0.07741816010596284, 2.8743993394923866),
          (0.09411493460856239, 0.03786158475058765, 1.8221602267908559),
          (0.11866341317615402, -0.04147989057113582, 2.9633810298885326),
          (0.06492400239923111, -0.06017156999836373, 1.0642878871282437),
          (0.1278531393217351, 0.03659332334610316, 1.2023722783139081),
          (0.09190065406465756, 0.042376425057002204, 2.3325010017859107),
          (0.06508623424408769, -0.024189219347908256, 2.6265773246067066),
          (0.1491729927158208, -0.06555414394653955, 2.9646014013954494),
          (0.06741522681136353, -0.022331338999834388, 1.2101662179683859),
          (0.05443010515859788, -0.010169486367020114, 2.5806094218216966),
          (0.051419288441678784, 0.08700622611176503, 1.2098909414938934),
          (0.08685463554171324, 0.05209190878771672, 1.6624575165183342),
          (0.10093241759943015, 0.08128513318029629, 2.2439217115611223),
          (0.11217820157092409, -0.02992881750031838, 1.930993908027525),
          (0.1273720818964838, 0.06562116883553176, 2.9196805418563647),
          (0.14199493825718562, 0.054224041334524686, 2.5473774789392634),
          (0.14174148301157313, -0.054765995722124955, 2.1018970419157927),
          (0.1312590181747189, -0.03822219108170686, 2.3205450827983527),
          (0.0757894629188345, -0.06085899127680577, 1.8136861478944004),
          (0.10600977852048035, 0.027576549452556803, 2.796120353146975),
          (0.07799443882872534, -0.04846555496622967, 2.981283244564603),
          (0.05449591561370862, 0.0674172962699649, 2.882336584572695),
          (0.07416598170074867, -0.038587150415207355, 2.2298818597256562),
          (0.14840741853942108, 0.06444346759840128, 2.684449313114963),
          (0.07848311285117837, 0.08729755808314685, 2.992135601154039),
          (0.12960517766449547, 0.032241778276844935, 2.7677206149779083),
          (0.06236725257408057, -0.08161977561649914, 2.9520078087646318),
          (0.10248763613273518, -0.04526063737442439, 2.37792507068409),
          (0.07397165768527361, 0.07469328399038636, 2.716406045780018),
          (0.10206146781383058, 0.07167606074120664, 2.4880734568882867),
          (0.12889714860884263, 0.03627808796522941, 2.8227150593460606),
          (0.11152379958550465, -0.0867206935818925, 1.0326303860498462),
          (0.12495601274985824, 0.0943572695469046, 1.7675719840021114),
          (0.12547979067083437, -0.0008431375523806767, 2.746066156160055),
          (0.058579342372164646, -0.0705652408858877, 1.1996485170927984),
          (0.05309070687206105, -0.08653256362998359, 1.806584850630228),
          (0.0796198139352476, -0.05382958069152377, 1.7198444059259954),
          (0.07089269576764662, -0.09103189035424858, 1.1593317309915938),
          (0.07921661617951996, 0.025615589580220338, 1.7359830539630452),
          (0.09460995130500104, -0.06423599770687499, 2.7610298197955863),
          (0.06831219940954499, 0.05355610677192191, 2.306462636963499),
          (0.08647485821754611, 0.024688094207232572, 1.0907178496758572),
          (0.12860068964641874, -0.006150479704311776, 2.704423598398843),
          (0.13600474468259693, 0.058432850398131814, 1.1591913159854201),
          (0.07894742726531588, 0.030191200405033314, 2.363293834326247),
          (0.0858250300967758, 0.026944116731062506, 1.9442353448108962),
          (0.07135656420021595, -0.0626825184043784, 1.6921924255308312),
          (0.07007042828683867, 0.06488348488399945, 1.3480488846848735),
          (0.14975635349065947, -0.09518034635852768, 2.22835186093761),
          (0.11429460883784794, 0.052958045190899666, 2.9758585401544853),
          (0.11980622457684069, -0.09074171979960753, 2.500366432729895),
          (0.10772806163212986, 0.06026640154950791, 2.396309655589727),
          (0.07190626243431175, -0.00395195361005822, 1.2380262126612733),
          (0.06508769030871513, -0.01439956197248915, 1.4056946196220022),
          (0.07468611188526973, 0.02762974195974921, 1.8179636219164983),
          (0.12306874327443151, 0.08223058584845408, 1.5219745980060655),
          (0.09026800839301873, -0.06496261651869065, 2.2319196621415633),
          (0.11114737118087831, -0.03697967373505716, 2.150833773456291),
          (0.09630645214940517, -0.041460895425586536, 2.5088886554695016),
          (0.06596817936585929, 0.021622976508974684, 1.7957745623046886),
          (0.11639964259371649, 0.03425563081359401, 1.3944960171458378),
          (0.10087097115216367, -0.04858715097761371, 2.470545736557412),
          (0.11617477539251757, 0.06301049814958301, 1.559358488898817),
          (0.10013800917690574, -0.04288221027947699, 2.1077169209034032),
          (0.07922314993387022, -0.08534174534180342, 2.4669083096801807),
          (0.12209323326499466, -0.07108745618550227, 2.1139067805276923),
          (0.0545932743227185, -0.019211184433739065, 2.9354979024512713),
          (0.11582238821367083, 0.06261170899820126, 1.33211131191777),
          (0.13419139693361545, 0.06529771124511116, 1.5276484687390441),
          (0.06379970791096326, 0.049835850007115295, 2.630879270414529),
          (0.07532379414712778, 0.04374601803760428, 1.0073027488092543),
          (0.07327830546376198, 0.010441996310063567, 2.532121648472908),
          (0.07477748505870366, -0.056404880677738745, 2.691987699700075),
          (0.05515050203098792, 0.04424145232243498, 2.7683183461642873),
          (0.05386239739533244, -0.0023799119137872526, 1.8112106266660488),
          (0.08239206043740475, -0.06051591190874231, 1.175026429764074),
          (0.14050910417406523, 0.049184297426262125, 1.5398553640431112),
          (0.1010903469324261, 0.015005402035987173, 2.1618053247024056),
          (0.11719620084214666, -0.09327727289203634, 1.550078373184071),
          (0.06400042423806904, -0.0569187992972779, 1.590883492211991),
          (0.09251596286433725, -0.059719397161972325, 1.4952823664596722),
          (0.11595302068951491, -0.005049927592399778, 1.914058859319995),
          (0.09617586162908254, -0.059089816923399985, 1.030976392669757),
          (0.09828070273367201, 0.047791579865743394, 1.263119930682917),
          (0.10552668049078094, 0.0851588048861456, 1.332660102240104),
          (0.10002367950000834, 0.03683686622930454, 2.054668920643926),
          (0.10327373399200723, -0.09986955867093777, 2.1150696503296813),
          (0.05558276711260765, -0.04727918903471802, 2.079416081700624),
          (0.1179472453295806, -0.09420219164872981, 2.462422347315754),
          (0.07352310214113392, -0.04397467058698541, 1.7010055723857591),
          (0.13291138964340854, -0.08125170183989035, 2.525900555661554),
          (0.13167352258990345, -0.092017666943505, 1.1562188867660013),
          (0.05484592608064446, 0.043873252749040303, 1.1317614956552409),
          (0.11308534476143688, -0.03459030361093156, 1.086014129501294),
          (0.0763446253276088, -0.005089752558282437, 2.9430674339752523),
          (0.08246495092487303, -0.03492953600364246, 1.968158754806661),
          (0.13073879077226752, 0.0822394488907516, 2.916984023227458),
          (0.12752631214964683, -0.09438438346262679, 2.7444866131382817),
          (0.10302167338657423, 0.05774010804121721, 2.9793817546793457),
          (0.1365709576214159, -0.017087951805796697, 1.3209451866055213),
          (0.12369790216711013, -0.06966280301317729, 1.1985484826267234),
          (0.12065303461065541, -0.08991962660535245, 2.723776414971551),
          (0.06543030587239293, -0.0028133036038213988, 1.4933242168071192),
          (0.10140576387348574, 0.007909468930664493, 1.5846727129023015),
          (0.06196599111112422, 0.09886970876815554, 2.5305184430793366),
          (0.1215217696807497, 0.07439444796222314, 1.879924027968847),
          (0.13958568875336735, 0.003203548142813803, 2.8386628511812524),
          (0.08073734294327706, 0.006565987415236105, 1.947668079576048),
          (0.1339682263338142, 0.08756941563623014, 1.7394313794402025),
          (0.13018089015045992, -0.0952996276228063, 1.9235467236849082),
          (0.06675091788179853, -0.09747223853417904, 2.1983720385088485),
          (0.12391209101442008, 0.015245473347412525, 1.2506850404539536),
          (0.12805423525808618, -0.004817191734512671, 1.914649117469042),
          (0.07574892755007176, -0.08463525962948051, 1.670998039306943),
          (0.14079040084894334, 0.0783288603869752, 1.0067009448793967),
          (0.0589526192904071, -0.023445517006278865, 2.871469972182319),
          (0.07159147342945651, -0.005402371467624303, 2.252864211346324),
          (0.07235695787955239, -0.0022994458222651837, 2.5102642682361322),
          (0.07494608147120818, 0.05291216720086955, 1.1979095572980087),
          (0.10419143897135275, 0.050694717362332165, 2.2295351865466735),
          (0.12171751655470212, 0.01494815839106993, 2.267208507160127),
          (0.08636973887635842, 0.08880893675685253, 2.0500563659147732),
          (0.11680861332177617, 0.09832540410389215, 1.7547177621609285),
          (0.06576869916100037, 0.040301369722873986, 1.242842635218573),
          (0.12561561668993482, 0.08281010997472135, 1.4737205003891487),
          (0.11580231711714568, 0.030643639725989158, 2.0578196426773037),
          (0.0560970940859331, -0.07886548719685747, 2.7874486378945136),
          (0.14935821465230031, 0.08255656718774929, 2.134313572463216),
          (0.11288359472528903, 0.060637096176747424, 2.0438765642599357),
          (0.08326359288105056, 0.03323795638430185, 1.561723596343452),
          (0.08385029174347164, 0.05056986520898754, 2.9822908066226432),
          (0.08033824838444911, 0.03419069281696574, 2.914758198310602),
          (0.09521307174139552, 0.03949830442751501, 1.7310779205890805),
          (0.11081135531701014, -0.04601079583173278, 1.177616363465268),
          (0.09882921465186449, 0.03886951972112965, 2.5806071244895135),
          (0.08865391561030887, 0.06683392565543692, 1.8065462864147854),
          (0.12350624751824697, 0.05118766873675629, 1.698914566232912),
          (0.12332702784637921, -0.021622552785983837, 2.3626692044680615),
          (0.11990348362357973, 0.06035003068197142, 2.1467823790647813),
          (0.055942715534019985, 0.08046179433652562, 2.6606523025533626),
          (0.07367253409257828, 0.08496510083192671, 1.8711334508745738),
          (0.06759200839520477, -0.0889806154907362, 1.4711117227419308),
          (0.06722076828010347, 0.014042951141671159, 1.5961944741398302),
          (0.06762649732117766, -0.033213604490518786, 1.8608700269111311),
          (0.07559963789723108, 0.054508200452374256, 2.3423755375058724),
          (0.13986258473784513, -0.08957528121514752, 1.7073579181955887),
          (0.07969724144839896, 0.046618162854604656, 2.918078330036833),
          (0.14534948757688576, 0.052634680811870116, 2.8014828343954177),
          (0.14525104295027041, 0.08360030629086146, 2.6326314216817543),
          (0.12384773528332074, 0.07311481647409673, 2.127465057683346),
          (0.1344939396269001, 0.02969556759514641, 1.0543581381469114),
          (0.14014999888901664, -0.04204400555929984, 1.5467468385329917),
          (0.09250100924933075, 0.04470384105178954, 1.4732672907789908),
          (0.13464643734131365, 0.06436129408683877, 2.931968389422896),
          (0.05238849632392037, -0.06970908670360837, 2.590965521346556),
          (0.05461790374187016, 0.08808600957641996, 1.1475655235071074),
          (0.1291431510760616, 0.03598721262736698, 1.6093320020112023),
          (0.0675199665355391, 0.02127236649576028, 1.6486076794664435),
          (0.12398386234760024, 0.05630187529271896, 2.35542736799779),
          (0.11774677090641164, -0.04981085573099451, 2.389359772703579),
          (0.1363146960961729, 0.09470792087496818, 1.6370168271843677),
          (0.09812659017882608, -0.023676471769396468, 2.085113924109929),
          (0.06761389005531589, -0.020414056025603894, 1.5718297093328073),
          (0.11599384206834797, -0.0456462979981791, 1.7162874239933288),
          (0.08245499430733996, 0.015085972660410632, 1.7328618637911954),
          (0.11943644639886165, -0.026115140680316715, 1.2886330125780139),
          (0.08821129298442314, -0.01066198759694681, 1.3312734822838417),
          (0.10646953268085106, 0.09076383167485655, 1.7804442997235386),
          (0.10688980794888422, 0.029511595835911453, 1.941496945173315),
          (0.11682917414190915, 0.060412950854266984, 2.2391794729254206),
          (0.0547702648420062, -0.0014975489179100965, 2.63773546110175),
          (0.06718102490882229, -0.05734456834270656, 1.7141533758237637),
          (0.08120909370290792, -0.06189664145739855, 2.244733766252511),
          (0.1369231597440455, -0.06566913318494377, 1.318088588055976),
          (0.10506384320856652, -0.04652231054088077, 1.959324214495331),
          (0.12059973207883623, 0.06463201179850428, 2.8132850260734124),
          (0.08566137048491235, 0.0004058122894568805, 1.2742096723233345),
          (0.10482938628755148, -0.08196978095654835, 1.6948059188879847),
          (0.1335945345493062, 0.07323871182931094, 2.9423110090985363),
          (0.05503000122593386, 0.093001382837964, 2.4556157427143868),
          (0.09620200940601031, -0.01782706414676205, 1.292158102531757),
          (0.0761111031224669, -0.08143207302650753, 2.4662112637788605),
          (0.14357746857705475, -0.03192833357280478, 1.6030628497441517),
          (0.09870221885596901, 0.07742691242501584, 2.431723951847122),
          (0.13097890599963435, 0.09603806781066809, 1.3343712806355508),
          (0.11213826598418034, -0.013111212696136104, 1.5770748729578483),
          (0.06894885433234546, 0.07103126790756056, 2.8315278204836876),
          (0.08424692843353702, 0.07664616341536448, 2.1213772649094196),
          (0.058242353477263455, 0.07696314879835867, 2.8750536000308635),
          (0.11659454037919414, -0.010754920094405152, 1.3499414140757555),
          (0.06142046784178529, 0.08442186307718555, 1.0272697126028578),
          (0.10619555821201725, -0.08944614373477922, 1.1376548073905939),
          (0.1360973453476128, 0.001269203137896649, 1.4957896881192798),
          (0.06578966275241296, 0.05396751712333256, 2.7889064873103644),
          (0.06825845971107097, -0.09435857262479819, 2.02203814054758),
          (0.07213711955413021, 0.02031384582036677, 2.538919184906953),
          (0.1357060740906788, -0.01188293884268099, 2.8925303112343164),
          (0.105896514989944, -0.055887731482197944, 1.6623482655476212),
          (0.10313912107778937, -0.07569271677756609, 2.153669057161362),
          (0.13994744463674064, 0.05035824102297798, 2.421429693685224),
          (0.14723842299513934, 0.03982892821542733, 2.4926044783931194),
          (0.11829555765120897, 0.007528688809172415, 1.3936627974473887),
          (0.1398363909901138, -0.09442592042425157, 2.0015583912704376),
          (0.06770988447061793, 0.04462473708035719, 2.5570214071863218),
          (0.11310990356079993, -0.016096193456394153, 1.0108229742463186),
          (0.12138500432342618, 0.07693164754715867, 1.4377894564168887),
          (0.06191520488015187, 0.08968868701741231, 2.302125814179707),
          (0.10998543206896777, -0.024636509224641848, 1.7981311113599798),
          (0.08875423447697224, -0.09040158447212004, 2.2009530176875596),
          (0.06426952908915315, -0.09761123429630728, 2.5482590575475674),
          (0.12037772159382522, 0.03905056681805216, 1.4585654955268268),
          (0.10931330875988937, 0.06286219655633854, 1.5624017269491177),
          (0.1024227379663523, -0.0740850546561832, 2.6628579246788977),
          (0.14853306436836766, 0.08319213590907043, 2.781258205316024),
          (0.06646307293252823, -0.039391125698555546, 2.6059001098086503),
          (0.08475203336917926, -0.094038595663626, 1.5880761197771762),
          (0.0711618667951593, 0.006259921191496681, 1.3165539760647638),
          (0.053439914755159246, 0.0038890265527703194, 2.498044881447527),
          (0.14654706654089117, 0.05014208367997741, 1.1584209885093155),
          (0.07203918713991488, 0.017502686139090562, 1.471379709768065),
          (0.05189051122156856, -0.07155564610523309, 2.173189582422798),
          (0.11943846650115915, 0.005973706841444784, 1.0192111834373432),
          (0.1249208464521191, 0.0402032748682688, 1.7520648462489932)]}

main()

# Comment to update:05953133831